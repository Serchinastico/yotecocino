{"version":3,"sources":["img/ic_marker.svg","img/ic_marker_selected.svg","img/ic_marker_hovered.svg","feature/ui/StyledFooter.ts","feature/ui/Footer.tsx","feature/welcome/WelcomeScreen.tsx","foundation/types/Service.ts","feature/ui/StyledForm.ts","foundation/Config.ts","foundation/places/ConvertLocationToCoords.ts","feature/ui/SearchPlaceInput.tsx","feature/ui/LocationInput.tsx","feature/ui/SubmitButton.tsx","feature/ui/HomeButton.tsx","feature/search/SearchScreen.tsx","foundation/food/MyCreatedFoodsRepository.ts","foundation/food/SaveFood.ts","feature/ui/SecondaryButton.tsx","feature/food/FoodOfferScreen.tsx","feature/search/components/ResultRow.tsx","feature/ui/ShareInTwitterButton.tsx","feature/search/components/ResultList.tsx","feature/search/components/ResultMapMarkers.tsx","feature/search/components/ResultMap.tsx","feature/search/hooks/UseBoundingBox.ts","foundation/food/FindFood.ts","feature/search/SearchResultsScreen.tsx","feature/food/CreatedFoodOfferScreen.tsx","foundation/food/FindOfferedFoods.ts","foundation/food/RemoveFood.ts","feature/food/ManageAllMyFoods.tsx","App.tsx","foundation/router/UseQuery.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","FooterContainer","styled","div","FooterContent","p","FooterLink","a","Footer","role","aria-label","href","Service","Container","Title","OptionsContainer","OptionContainer","OptionTitle","OptionIllustration","img","HelpContainer","HelpLink","WelcomeScreen","history","useHistory","AcceptFoodButton","onClick","push","src","ProvideFoodButton","form","InputTitle","InputHint","span","FieldErrorDescription","TextInput","input","CheckboxContainer","label","CheckboxInput","DateInputContainer","DateInput","ReactDatePicker","RadioInput","Text","MyCreatedFoodItem","Warning","HorizontalButtons","config","mapsToken","mapLayout","country","language","url","hashtag","ConvertLocationToCoords","address","filter","searchableAddress","encodeURI","authPart","mapboxApiAccessToken","filterByCountry","filterByLanguage","searchUrl","fetch","then","response","json","foundPlaces","type","features","map","place","latitude","center","longitude","place_name","useStyles","makeStyles","theme","icon","color","palette","text","secondary","marginRight","spacing","search","backgroundColor","marginBottom","border","height","width","borderRadius","paddingLeft","paddingRight","fontSize","marginTop","fontFamily","root","background","SearchPlaceInput","props","classes","React","useState","inputValue","setInputValue","options","setOptions","convertLocation","handleChange","event","target","value","useMemo","throttle","findPlaces","callback","useEffect","active","results","error","errorMessage","Autocomplete","id","style","maxWidth","getOptionLabel","option","filterOptions","x","autoComplete","freeSolo","includeInputInList","onChange","reason","renderInput","params","hint","TextField","className","placeholder","variant","renderOption","Grid","container","alignItems","item","xs","Typography","LocationInput","state","viewport","zoom","marker","updateViewPort","bind","updateAddress","this","setLocation","setState","prev","showMap","auth","mapConfig","mapWidth","mapHeight","mapStyle","markerInMap","searchPlacesInput","onViewportChange","Component","defaultProps","withStyles","red","styles","activeButton","textTransform","padding","fontWeight","alignSelf","progressStyle","disabled","loading","onSubmit","submit","buttonContent","CircularProgress","size","Button","Icon","HomeButton","SearchScreen","setAddress","date","setDate","service","setService","onFormSubmit","console","log","rawAddress","formattedDate","dayjs","Date","format","onServiceChange","lunch","dinner","Error","criteriaToSearchIsCompleted","placeholderText","selected","preventDefault","preventOpenOnFocus","minDate","name","htmlFor","MyCreatedFoodsRepository","food","allFoods","findAll","localStorage","setItem","JSON","stringify","find","parse","getItem","foodOffer","lessFood","SaveFood","myCreatedFoodsRepository","geohash","Geohash","encode","coordinates","axios","post","contact","day","foodname","status","undefined","data","foodWithId","save","InputContainer","FoodOfferScreen","saveFood","setContact","location","description","setDescripiton","acceptPrivacyPolicy","setAcceptPrivacyPolicy","violations","setViolations","showError","setShowError","saving","setSaving","validateForm","Object","keys","length","execute","savedFood","containsValidData","dateError","serviceError","contactError","descriptionError","privacyPolicyError","privacyPolicy","checked","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","Alert","onClose","severity","isSelected","Food","Contact","ResultRow","offer","onOfferSelected","onOfferHovered","onMouseEnter","onMouseLeave","shareButton","justIcon","TwitterIcon","createSvgIcon","d","encodedMessage","hashPart","urlPart","tweetUrl","IconButton","startIcon","NotFoundIllustration","NoFoundText","LoadingContainer","offers","isLoading","selectedOffer","Loading","EmptyCase","key","memo","hoveredOffer","markerIcon","require","selectedMarkerIcon","hoveredMarkerIcon","OfferMarker","offsetTop","offsetLeft","alt","Markers","markers","Map","ReactMapGL","ResultMap","searchedArea","noOffersFound","allCoordinates","boundingBox","allLatitudes","c","allLongitudes","minLatitude","reduce","b","maxLatitude","swCoordinate","neCoordinate","useBoundingBox","setViewport","locationViewPort","WebMercatorViewport","fitBounds","mapViewport","resultMapMarkers","FindFood","criteria","nearTo","neighborGeohashes","neighbours","allGeohashes","nw","n","ne","e","se","s","sw","w","toString","get","SearchResultsScreen","findFood","setOffers","needToLoad","setNeedToLoad","found","setSelectedOffer","setHoveredOffer","md","lg","Congratulations","Description","Brand","Identifier","Centered","CreatedFoodOfferScreen","match","foodId","FindOfferedFoods","Promise","resolve","effectiveFood","delete","ManageAllMyFoods","findAllMyFood","removeFood","RemoveFood","offeredFood","setOfferedFood","setFoodId","needToLoadMyFoods","setNeedToLoadMyFoods","deleteFood","success","catch","createdFoodList","list","nothingToBeDeleted","App","parseLocation","parts","split","Number","parseService","toLowerCase","Routes","query","URLSearchParams","useLocation","path","toDate","decodeURI","exact","component","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2bf44832.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ic_marker.8010c3b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_marker_selected.12e6ff14.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_marker_hovered.42c11130.svg\";","import styled from \"styled-components\";\n\nexport const FooterContainer = styled.div`\n  background: #fff;\n  height: 80px;\n  position: fixed;\n  bottom: 0;\n  display: flex;\n  padding-left: 48px;\n  padding-right: 48px;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 32px 32px 0 0;\n\n  -webkit-animation: slide-in-bottom 0.5s cubic-bezier(0.19, 1, 0.22, 1) both;\n  animation: slide-in-bottom 0.5s cubic-bezier(0.19, 1, 0.22, 1) both;\n  @-webkit-keyframes slide-in-bottom {\n    0% {\n      -webkit-transform: translateY(1000px);\n      transform: translateY(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n  @keyframes slide-in-bottom {\n    0% {\n      -webkit-transform: translateY(1000px);\n      transform: translateY(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 768px) {\n    height: 120px;\n  }\n`;\n\nexport const FooterContent = styled.p`\n  margin: 0;\n  text-align: center;\n  align-self: center;\n`;\n\nexport const FooterLink = styled.a`\n  text-decoration: none;\n  color: #2997fc;\n  font-weight: 600;\n`;\n","import React from \"react\";\nimport { FooterContainer, FooterLink, FooterContent } from \"./StyledFooter\";\n\nconst Footer: React.FC = () => {\n  return (\n    <FooterContainer>\n      <FooterContent><b>¡Estamos de pruebas!</b></FooterContent>\n      <FooterContent>\n        Creado con mucho{\" \"}\n        <span role=\"img\" aria-label=\"amor\">\n          ❤️\n        </span>{\" \"}\n        por{\" \"}\n        <FooterLink href=\"https://twitter.com/Serchinastico\">\n          @Serchinastico\n        </FooterLink>\n        , <FooterLink href=\"https://twitter.com/delr3ves\">@delr3ves</FooterLink>{\" \"}\n        y{\" \"}\n        <FooterLink href=\"https://www.linkedin.com/in/aliciacarbajalzapater/\">\n          @alicarbajal\n        </FooterLink>\n      </FooterContent>\n    </FooterContainer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport Footer from \"feature/ui/Footer\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Title = styled.div`\n  font-size: 3rem;\n  font-family: \"Pacifico\", cursive;\n  color: #303240;\n  margin-top: 32px;\n`;\n\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 24px;\n  margin-bottom: 128px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst OptionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-radius: 16px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  height: 320px;\n  width: 256px;\n  margin: 40px;\n  justify-content: center;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 16px;\n  }\n`;\n\nconst OptionTitle = styled.p`\n  font-size: 1.5rem;\n  text-align: center;\n  position: relative;\n  font-weight: 600;\n  top: 32px;\n`;\n\nconst OptionIllustration = styled.img`\n  position: relative;\n  bottom: 39px;\n  justify-self: flex-end;\n`;\n\nconst HelpContainer = styled.div`\n  background: #fff;\n  border-radius: 16px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n`;\n\nconst HelpLink = styled.a`\n  font-size: 1.3rem;\n  font-weight: 800;\n  color: #2997fc;\n  text-decoration: underline;\n  padding: 0;\n`;\n\nconst WelcomeScreen: React.FC = () => {\n  const history = useHistory();\n\n  const AcceptFoodButton = () => {\n    return (\n      <OptionContainer onClick={() => history.push(\"/search\")}>\n        <OptionTitle>Acepto comida</OptionTitle>\n        <OptionIllustration src={\"img/il_doctor.svg\"} />\n      </OptionContainer>\n    );\n  };\n\n  const ProvideFoodButton = () => {\n    return (\n      <OptionContainer onClick={() => history.push(\"/cook\")}>\n        <OptionTitle>Ofrezco comida</OptionTitle>\n        <OptionIllustration src={\"img/il_chef.svg\"} />\n      </OptionContainer>\n    );\n  };\n\n  return (\n    <Container>\n      <Title>#yotecocino</Title>\n      <HelpContainer>\n        <HelpLink href=\"/how.pdf\">¿Cómo funciona?</HelpLink>\n      </HelpContainer>\n      <OptionsContainer>\n        <AcceptFoodButton />\n        <ProvideFoodButton />\n      </OptionsContainer>\n      <Footer />\n    </Container>\n  );\n};\n\nexport default WelcomeScreen;\n","export enum Service {\n  lunch = \"Lunch\",\n  dinner = \"Dinner\"\n}\n","import styled from \"styled-components\";\nimport ReactDatePicker from \"react-datepicker\";\n\nexport const Container = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  max-width: 500px;\n  background: #ffffff;\n  border-radius: 32px;\n  position: relative;\n  padding: 32px;\n  margin: 64px auto;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  overflow: scroll;\n`;\n\nexport const InputTitle = styled.p`\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n`;\n\nexport const InputHint = styled.span`\n  color: #9c9c9c;\n  font-size: 0.9rem;\n`;\n\nexport const FieldErrorDescription = styled.p`\n  font-size: 0.7rem;\n  color: #e27861;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 5px;\n`;\n\nexport const TextInput = styled.input`\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  height: 40px;\n  width: 100%;\n  border-radius: 24px;\n  padding-left: 16px;\n  padding-right: 16px;\n  font-size: 0.9rem;\n  margin-top: 8px;\n  font-family: \"Montserrat\", sans-serif;\n\n  &::placeholder {\n    font-family: \"Montserrat\", sans-serif;\n  }\n`;\n\nexport const CheckboxContainer = styled.label`\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const CheckboxInput = styled.input`\n  margin-top: 4px;\n  margin-right: 24px;\n`;\n\nexport const DateInputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nexport const DateInput = styled(ReactDatePicker)`\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  height: 40px;\n  width: 100%;\n  max-width: 470px;\n  border-radius: 24px;\n  padding-left: 16px;\n  padding-right: 16px;\n  font-size: 0.9rem;\n  margin-top: 8px;\n  font-family: \"Montserrat\", sans-serif;\n\n  &::placeholder {\n    font-family: \"Montserrat\", sans-serif;\n  }\n`;\n\nexport const RadioInput = styled.input`\n  padding: 16px;\n  margin: 16px;\n  font-size: 1rem;\n`;\n\nexport const Title = styled.p`\n  font-weight: 600;\n  font-size: 1.2rem;\n  margin: 0;\n  margin-bottom: 16px;\n`;\n\nexport const Text = styled.p`\n  font-weight: light;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n`;\n\nexport const Link = styled.a`\n  font-weight: light;\n  font-family: \"Pacifico\", sans-serif;\n  text-decoration: none;\n  color: #000;\n`;\n\nexport const MyCreatedFoodItem = styled.p`\n  font-weight: lighter;\n  padding: 0;\n  padding-left: 24px;\n  margin: 0;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  cursor: pointer;\n  &:not(:last-child) {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  }\n`;\n\nexport const Warning = styled.p`\n  font-weight: 500;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n  text-align: center;\n`;\n\nexport const OptionsContainer = styled.div`\n  margin-top: 16px;\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  border-radius: 16px;\n`;\n\nexport const HorizontalButtons = styled.div`\n  display: flex;\n  flex-direction: center;\n  justify-content: space-between;\n`;\n","const config = {\n  mapsToken:\n    \"pk.eyJ1Ijoic2VyY2hpbmFzdGljbyIsImEiOiJjanJobXAxaDkwMGRvM3lveDRiMm81ZXB3In0.GbKjt0_Or0z-d1MxmJ5GXA\",\n  mapLayout: \"mapbox://styles/mapbox/streets-v11\",\n  country: \"es\",\n  language: \"es\",\n  url: \"https://yotecocino.com\",\n  hashtag: \"yotecocino\"\n};\n\nexport default config;\n","import {Coordinates} from \"../types/Coordinates\";\n\nexport interface PlaceSearchResult extends Coordinates {\n    address: string\n}\n\nexport interface SearchPlaceFilter {\n    mapboxApiAccessToken: string,\n    country?: string,\n    language?: string\n}\n\nexport default class ConvertLocationToCoords {\n\n    search(address: string, filter: SearchPlaceFilter): Promise<Array<PlaceSearchResult>> {\n        const searchableAddress = encodeURI(address);\n        const authPart = `access_token=${filter.mapboxApiAccessToken}`;\n        const filterByCountry = filter.country ? `&country=${filter.country}` : \"\";\n        const filterByLanguage = filter.language ? `&language=${filter.language}` : \"\";\n\n        const searchUrl = `https://api.mapbox.com/geocoding/v5/mapbox.places/${searchableAddress}.json?${authPart}&autocomplete=true${filterByCountry}${filterByLanguage}`\n        return fetch(searchUrl)\n            .then(response => response.json())\n            .then(foundPlaces => {\n                    if (foundPlaces.type === \"FeatureCollection\") {\n                        return foundPlaces.features.map((place: any) => {\n                            const lat = place.center[1];\n                            const long = place.center[0];\n\n                            return {\n                                latitude: lat,\n                                longitude: long,\n                                address: place.place_name\n                            }\n                        });\n                    } else {\n                        return [];\n                    }\n                }\n            );\n    }\n}\n\n","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport throttle from \"lodash/throttle\";\nimport ConvertLocationToCoords, {\n  PlaceSearchResult,\n  SearchPlaceFilter\n} from \"../../foundation/places/ConvertLocationToCoords\";\nimport { FieldErrorDescription, InputTitle, InputHint } from \"../ui/StyledForm\";\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2)\n  },\n  search: {\n    backgroundColor: \"#FFF\",\n    marginBottom: \"15px\",\n    border: \"0.5px solid rgba(0, 0, 0, 0.2)\",\n    height: \"40px\",\n    width: \"100%\",\n    borderRadius: \"24px\",\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\",\n    fontSize: \"0.9rem\",\n    marginTop: \"8px\",\n    fontFamily: \"'Montserrat', sans-serif\",\n    \"&::placeholder\": {\n      fontFamily: \"'Montserrat', sans-serif\"\n    }\n  },\n  root: {\n    border: 0,\n    background: \"#000\"\n  }\n}));\n\ntype SearchPlaceInputProps = {\n  onChange: (place: PlaceSearchResult) => void;\n  address?: string | null;\n  errorMessage: string | null;\n  label: string | null;\n  hint?: string;\n} & SearchPlaceFilter;\n\nexport default function SearchPlaceInput(props: SearchPlaceInputProps) {\n  const classes = useStyles();\n  const [inputValue, setInputValue] = React.useState(props.address || \"\");\n  const [options, setOptions] = React.useState<PlaceSearchResult[]>([]);\n\n  const convertLocation = new ConvertLocationToCoords();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value);\n  };\n\n  const selectPlace = (\n    event: any,\n    value: PlaceSearchResult | null,\n    reason: any\n  ) => {\n    if (value) {\n      props.onChange(value);\n    }\n  };\n\n  const fetch = React.useMemo(\n    () =>\n      throttle(\n        (\n          address: string,\n          findPlaces: ConvertLocationToCoords,\n          config: SearchPlaceInputProps,\n          callback: (results?: PlaceSearchResult[]) => void\n        ) => {\n          findPlaces.search(address, config).then(callback);\n        },\n        200\n      ),\n    []\n  );\n\n  React.useEffect(() => {\n    let active = true;\n\n    if (inputValue === \"\") {\n      setOptions([]);\n      return undefined;\n    }\n\n    fetch(\n      inputValue,\n      convertLocation,\n      props,\n      (results?: PlaceSearchResult[]) => {\n        if (active) {\n          setOptions(results || []);\n        }\n      }\n    );\n\n    return () => {\n      active = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputValue, fetch]);\n\n  const error = props.errorMessage ? (\n    <FieldErrorDescription>{props.errorMessage}</FieldErrorDescription>\n  ) : null;\n  return (\n    <Autocomplete\n      id=\"search-place\"\n      style={{ maxWidth: 400 }}\n      getOptionLabel={option =>\n        typeof option === \"string\" ? option : option.address\n      }\n      filterOptions={x => x}\n      options={options}\n      autoComplete\n      freeSolo\n      includeInputInList\n      onChange={selectPlace}\n      renderInput={params => (\n        <div>\n          <InputTitle>\n            {props.label} <InputHint>{props.hint}</InputHint>\n          </InputTitle>\n          {error}\n          <TextField\n            {...params}\n            className={classes.search}\n            placeholder=\"Calle y número\"\n            variant=\"standard\"\n            onChange={handleChange}\n          />\n        </div>\n      )}\n      renderOption={option => {\n        return (\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <LocationOnIcon className={classes.icon} />\n            </Grid>\n            <Grid item xs>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {option.address}\n              </Typography>\n            </Grid>\n          </Grid>\n        );\n      }}\n    />\n  );\n}\n","import React from \"react\";\nimport ReactMapGL, { Marker, ViewportProps } from \"react-map-gl\";\nimport config from \"../../foundation/Config\";\nimport SearchPlacesInput from \"./SearchPlaceInput\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport red from \"@material-ui/core/colors/red\";\nimport {PlaceSearchResult} from \"../../foundation/places/ConvertLocationToCoords\";\n\nconst styles = () => ({\n  marker: {\n    color: red[500],\n    height: 35,\n    width: 35\n  }\n});\n\ninterface Props {\n  setLocation: (location: PlaceSearchResult) => void;\n  address?: string | null;\n  showMap: boolean;\n  mapWidth: number | string;\n  mapHeight: number | string;\n  classes: any;\n  errorMessage: string | null;\n  label: string | null;\n  hint?: string;\n}\n\ninterface DefaultProps {\n  showMap: boolean;\n  mapWidth: number | string;\n  mapHeight: number | string;\n  errorMessage: string | null;\n}\n\ntype LocationProps = Props & DefaultProps;\n\ntype LocationInputState = {\n  viewport: any;\n  marker: any | null;\n};\n\nclass LocationInput extends React.Component<LocationProps, LocationInputState> {\n  public static defaultProps: Partial<LocationProps> = {\n    showMap: true,\n    mapWidth: \"100%\",\n    mapHeight: 400,\n    errorMessage: null\n  };\n\n  constructor(props: LocationProps) {\n    super(props);\n    this.state = {\n      viewport: {\n        longitude: -3.70379,\n        latitude: 40.416775,\n        zoom: 14\n      },\n      marker: null\n    };\n    this.updateViewPort = this.updateViewPort.bind(this);\n    this.updateAddress = this.updateAddress.bind(this);\n  }\n\n  updateAddress(address: PlaceSearchResult) {\n    this.props.setLocation(address);\n    this.setState((prev: any) => ({\n      ...prev,\n      viewport: {\n        ...prev.viewport,\n        latitude: address.latitude,\n        longitude: address.longitude\n      },\n      marker: {\n        latitude: address.latitude,\n        longitude: address.longitude\n      }\n    }));\n  }\n\n  render() {\n    const { address, classes, errorMessage, label, showMap, hint } = this.props;\n    const { marker, viewport } = this.state;\n    const auth = {\n      mapboxApiAccessToken: config.mapsToken\n    };\n    const mapConfig = {\n      width: this.props.mapWidth,\n      height: this.props.mapHeight,\n      mapStyle: config.mapLayout\n    };\n\n    const markerInMap = marker ? (\n      <Marker {...marker}>\n        <LocationOnIcon className={classes.marker} />\n      </Marker>\n    ) : null;\n\n    const searchPlacesInput = (\n      <SearchPlacesInput\n        {...auth}\n        country={config.country}\n        language={config.language}\n        onChange={this.updateAddress}\n        address={address}\n        errorMessage={errorMessage}\n        label={label}\n        hint={hint}\n      />\n    );\n\n    const map = showMap ? (\n      <ReactMapGL\n        {...auth}\n        {...mapConfig}\n        {...viewport}\n        onViewportChange={this.updateViewPort}\n      >\n        {markerInMap}\n      </ReactMapGL>\n    ) : null;\n\n    return (\n      <div>\n        {searchPlacesInput}\n        {map}\n      </div>\n    );\n  }\n\n  private updateViewPort(viewport: ViewportProps) {\n    return this.setState((prev: any) => ({\n      ...prev,\n      viewport\n    }));\n  }\n}\n\nexport default withStyles(styles)(LocationInput);\n","import React from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\ntype SubmitButtonProps = {\n  loading?: boolean;\n  disabled?: boolean;\n  label: string;\n  onSubmit?: (event: any) => void;\n  onClick?: (event: any) => void;\n  classes: any;\n};\n\nconst noTransformText: React.CSSProperties = {\n  textTransform: \"none\"\n};\n\nconst styles = {\n  activeButton: {\n    ...noTransformText,\n    background: \"#e27861\",\n    padding: \"10px\",\n    marginTop: \"16px\",\n    borderRadius: \"48px\",\n    border: \"none\",\n    width: \"45%\",\n    fontSize: \"0.9rem\",\n    fontWeight: 700,\n    color: \"#fff\",\n    alignSelf: \"center\",\n    fontFamily: \"Montserrat, sans-serif\",\n    \"&:disabled\": {\n      background: \"#ccc\"\n    },\n    \"&:hover\": {\n      background: \"#ef9f8d\"\n    }\n  },\n  progressStyle: {\n    color: \"#FFF\"\n  }\n};\n\nconst SubmitButton: React.FC<SubmitButtonProps> = props => {\n  const disabled = props.disabled || false;\n  const { classes, loading, onSubmit, onClick } = props;\n  const submit = loading ? () => {} : onSubmit;\n\n  const buttonContent = loading ? (\n    <CircularProgress className={classes.progressStyle} size={24} />\n  ) : (\n    props.label\n  );\n  return (\n    <Button\n      className={classes.activeButton}\n      onSubmit={submit}\n      onClick={onClick}\n      type=\"submit\"\n      disabled={disabled}\n    >\n      {buttonContent}\n    </Button>\n  );\n};\n\nexport default withStyles(styles)(SubmitButton);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Icon = styled.img`\n  height: 48px;\n  width: 48px;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  cursor: pointer;\n`;\n\nconst HomeButton = () => {\n  const history = useHistory();\n\n  return <Icon src=\"img/ic_home.svg\" onClick={() => history.push(\"/\")}></Icon>;\n};\n\nexport default HomeButton;\n","import React, { useState } from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useHistory } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\nimport {\n  Container,\n  InputTitle,\n  DateInput,\n  DateInputContainer,\n  RadioInput,\n  Title\n} from \"../ui/StyledForm\";\nimport LocationInput from \"../ui/LocationInput\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport HomeButton from \"feature/ui/HomeButton\";\nimport {PlaceSearchResult} from \"../../foundation/places/ConvertLocationToCoords\";\n\nconst SearchScreen: React.FC = () => {\n  const history = useHistory();\n  const [address, setAddress] = useState<PlaceSearchResult | null>(null);\n  const [date, setDate] = useState<Date | null>(null);\n  const [service, setService] = useState<Service | null>(null);\n\n  const onFormSubmit = () => {\n    console.log(\"llega\");\n    const latitude = address?.latitude;\n    const longitude = address?.longitude;\n    const rawAddress = address?.address || \"\";\n    const formattedDate = dayjs(date ?? Date()).format(\"YYYY-MM-DD\");\n    history.push(\n      `/search/results?location=${latitude},${longitude}&day=${formattedDate}&service=${service}&address=${encodeURI(rawAddress)}`\n    );\n  };\n\n  const onServiceChange = (service: string) => {\n    switch (service) {\n      case \"lunch\":\n        setService(Service.lunch);\n        break;\n      case \"dinner\":\n        setService(Service.dinner);\n        break;\n      default:\n        throw new Error(`Invalid service: ${service}`);\n    }\n  };\n\n  const criteriaToSearchIsCompleted =\n    address !== null && date !== null && service !== null;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={onFormSubmit}>\n        <Title>\n          Completa los siguientes campos para buscar una comida preparada\n        </Title>\n        <LocationInput\n          label=\"¿Dónde trabajas?\"\n          setLocation={setAddress}\n          showMap={false}\n          hint=\"Puede ser una dirección aproximada\"\n        />\n        <label>\n          <InputTitle>¿Qué día será la recogida?</InputTitle>\n          <DateInputContainer>\n            <DateInput\n              placeholderText=\"Selecciona el día\"\n              selected={date}\n              onChange={(date, event) => {\n                setDate(date);\n                event?.preventDefault();\n              }}\n              preventOpenOnFocus={true}\n              minDate={new Date()}\n            />\n          </DateInputContainer>\n        </label>\n        <label>\n          <InputTitle>¿Comida o cena?</InputTitle>\n          <RadioInput\n            type=\"radio\"\n            id=\"lunch\"\n            name=\"food_service\"\n            value=\"lunch\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"lunch\">Comida</label>\n          <RadioInput\n            type=\"radio\"\n            id=\"dinner\"\n            name=\"food_service\"\n            value=\"dinner\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"dinner\">Cena</label>\n        </label>\n        <SubmitButton\n          label=\"Buscar\"\n          onSubmit={onFormSubmit}\n          disabled={!criteriaToSearchIsCompleted}\n        />\n      </Container>\n    </div>\n  );\n};\n\nexport default SearchScreen;\n","import { FoodOffer } from \"../types/FoodOffer\";\n\nconst LOCAL_STORAGE_KEY = \"yotecocino-myFoods\";\n\nexport default class MyCreatedFoodsRepository {\n  save(food: FoodOffer): FoodOffer {\n    const allFoods = this.findAll();\n    allFoods.push(food);\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(allFoods));\n    return food;\n  }\n\n  find(id: String): FoodOffer | undefined {\n    const allFoods = this.findAll();\n    return allFoods.find(food => food.id === id);\n  }\n\n  findAll(): FoodOffer[] {\n    return JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) || \"[]\");\n  }\n\n  delete(foodOffer: FoodOffer | string): void {\n    const allFoods = this.findAll();\n    const lessFood = allFoods.filter(item => {\n      const food = typeof foodOffer === \"string\" ? foodOffer : foodOffer.id;\n      return item.id !== food;\n    });\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(lessFood));\n  }\n}\n","import { FoodOffer } from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport Geohash from \"latlon-geohash\";\n\nexport default class SaveFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(food: FoodOffer): Promise<FoodOffer | undefined> {\n    const geohash = Geohash.encode(\n      food.coordinates.latitude,\n      food.coordinates.longitude,\n      6\n    );\n\n    try {\n      const response = await axios.post(\n        \"https://europe-west1-yotecocino-d6292.cloudfunctions.net/createOffer\",\n        {\n          contact: food.contact,\n          day: dayjs(food.date).format(\"YYYY-MM-DD\"),\n          foodname: food.food,\n          geohash: geohash,\n          latitude: food.coordinates.latitude,\n          longitude: food.coordinates.longitude,\n          service: food.service\n        }\n      );\n\n      if (response.status !== 201 || response.data === undefined) {\n        return undefined;\n      }\n\n      const foodWithId = {\n        id: response.data.id,\n        ...food\n      };\n      this.myCreatedFoodsRepository.save(foodWithId);\n      return foodWithId;\n    } catch (_) {\n      return undefined;\n    }\n  }\n}\n","import React from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\ntype SecondaryButtonProps = {\n  label: string;\n  onClick: () => void;\n  classes: any;\n};\n\nconst noTransformText: React.CSSProperties = {\n  textTransform: \"none\"\n};\n\nconst styles = {\n  activeButton: {\n    ...noTransformText,\n    background: \"#0000\",\n    padding: \"10px\",\n    marginTop: \"16px\",\n    borderRadius: \"48px\",\n    border: \"none\",\n    width: \"45%\",\n    fontSize: \"0.9rem\",\n    fontWeight: 700,\n    color: \"#E27861\",\n    alignSelf: \"flex-end\",\n    fontFamily: \"Montserrat, sans-serif\",\n    \"&:hover\": {\n      background: \"##E27861\"\n    }\n  },\n  progressStyle: {\n    color: \"#FFF\"\n  }\n};\n\nconst SecondaryButton: React.FC<SecondaryButtonProps> = props => {\n  const { classes, onClick, label } = props;\n\n  return (\n    <Button className={classes.activeButton} onClick={onClick}>\n      {label}\n    </Button>\n  );\n};\n\nexport default withStyles(styles)(SecondaryButton);\n","import React, { useState } from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\nimport LocationInput from \"../ui/LocationInput\";\nimport { Coordinates } from \"../../foundation/types/Coordinates\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {\n  CheckboxContainer,\n  CheckboxInput,\n  Container,\n  DateInput,\n  FieldErrorDescription,\n  InputTitle,\n  RadioInput,\n  TextInput,\n  Title,\n  HorizontalButtons\n} from \"../ui/StyledForm\";\nimport { FoodOffer } from \"../../foundation/types/FoodOffer\";\nimport SaveFood from \"../../foundation/food/SaveFood\";\nimport { useHistory } from \"react-router-dom\";\nimport { FooterLink } from \"feature/ui/StyledFooter\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport SecondaryButton from \"../ui/SecondaryButton\";\nimport { Snackbar } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst InputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst FoodOfferScreen: React.FC = () => {\n  const history = useHistory();\n  const saveFood = new SaveFood();\n  const [contact, setContact] = useState<string | null>(null);\n  const [location, setLocation] = useState<Coordinates | null>(null);\n  const [description, setDescripiton] = useState<string | null>(null);\n  const [date, setDate] = useState<Date | null>(null);\n  const [service, setService] = useState<Service | null>(null);\n  const [acceptPrivacyPolicy, setAcceptPrivacyPolicy] = useState<boolean>(\n    false\n  );\n  const [violations, setViolations] = useState<any>({});\n  const [showError, setShowError] = React.useState(false);\n  const [saving, setSaving] = useState<boolean>(false);\n\n  const validateForm = () => {\n    let violations: any = {};\n    if (!location) {\n      violations[\"location\"] =\n        \"Necesitamos que nos digas dónde se recogerá la comida\";\n    }\n    if (!date) {\n      violations[\"date\"] =\n        \"Necesitamos que nos digas cuándo se recogerá la comida\";\n    }\n    if (!contact) {\n      violations[\"contact\"] =\n        \"Necesitamos que nos digas cómo podemos contactar contigo\";\n    }\n    if (!service) {\n      violations[\"service\"] =\n        \"Necesitamos que nos digas si ofreces comida o cena\";\n    }\n    if (!service) {\n      violations[\"description\"] =\n        \"Necesitamos que nos digas que podrías cocinar. Si no sabes que hacer, pon 'cositas ricas'\";\n    }\n    if (!acceptPrivacyPolicy) {\n      violations[\"privacyPolicy\"] =\n        \"Necesitamos que aceptes la política de privacidad\";\n    }\n    return violations;\n  };\n\n  const onFormSubmit = (event: any) => {\n    event.preventDefault();\n    const violations = validateForm();\n    if (Object.keys(violations).length !== 0) {\n      setViolations(violations);\n    } else {\n      setSaving(true);\n      const foodOffer: FoodOffer = {\n        coordinates: location as Coordinates,\n        service: service as Service,\n        contact: contact as string,\n        date: dayjs(date || Date()).format(\"YYYY-MM-DD\"),\n        food: description as string\n      };\n\n      saveFood.execute(foodOffer).then(savedFood => {\n        setSaving(false);\n        if (savedFood === undefined) {\n          setShowError(true);\n        } else {\n          history.push(`/food/${savedFood!!.id}`);\n        }\n      });\n    }\n  };\n\n  const onServiceChange = (service: string) => {\n    switch (service) {\n      case \"lunch\":\n        setService(Service.lunch);\n        break;\n      case \"dinner\":\n        setService(Service.dinner);\n        break;\n      default:\n        throw new Error(`Invalid service: ${service}`);\n    }\n  };\n\n  const containsValidData = Object.keys(validateForm()).length === 0;\n\n  const dateError = violations.date ? (\n    <FieldErrorDescription>{violations.date}</FieldErrorDescription>\n  ) : null;\n  const serviceError = violations.service ? (\n    <FieldErrorDescription>{violations.service}</FieldErrorDescription>\n  ) : null;\n  const contactError = violations.contact ? (\n    <FieldErrorDescription>{violations.contact}</FieldErrorDescription>\n  ) : null;\n  const descriptionError = violations.description ? (\n    <FieldErrorDescription>{violations.description}</FieldErrorDescription>\n  ) : null;\n  const privacyPolicyError = violations.description ? (\n    <FieldErrorDescription>{violations.privacyPolicy}</FieldErrorDescription>\n  ) : null;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={onFormSubmit}>\n        <Title>\n          Completa los siguientes campos para ofrecer una comida preparada\n        </Title>\n        <LocationInput\n          label=\"¿Dónde será la recogida?\"\n          setLocation={setLocation}\n          showMap={false}\n          errorMessage={violations.location}\n        />\n        <label>\n          <InputTitle>¿Qué día será la recogida?</InputTitle>\n          {dateError}\n          <DateInput\n            placeholderText=\"Selecciona el día\"\n            selected={date}\n            onChange={(date, event) => {\n              setDate(date);\n              event?.preventDefault();\n            }}\n            minDate={new Date()}\n          />\n        </label>\n        <label>\n          <InputTitle>¿Comida o cena?</InputTitle>\n          {serviceError}\n          <RadioInput\n            type=\"radio\"\n            id=\"lunch\"\n            name=\"food_service\"\n            value=\"lunch\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"lunch\">Comida</label>\n          <RadioInput\n            type=\"radio\"\n            id=\"dinner\"\n            name=\"food_service\"\n            value=\"dinner\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"dinner\">Cena</label>\n        </label>\n        <label>\n          <InputTitle>¿Qué podrías cocinar?</InputTitle>\n          {descriptionError}\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"Comida vegana, guisos riquisimos, ...\"\n              value={description ?? \"\"}\n              onChange={event => setDescripiton(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <label>\n          <InputTitle>Forma de contacto</InputTitle>\n          {contactError}\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"Twitter\"\n              value={contact ?? \"\"}\n              onChange={event => setContact(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <CheckboxContainer>\n          {privacyPolicyError}\n          <CheckboxInput\n            type=\"checkbox\"\n            checked={acceptPrivacyPolicy}\n            onChange={event => setAcceptPrivacyPolicy(event.target.checked)}\n          />\n          <label onClick={() => setAcceptPrivacyPolicy(!acceptPrivacyPolicy)}>\n            Acepto la{\" \"}\n            <FooterLink href=\"privacypolicy.html\">\n              política de privacidad\n            </FooterLink>\n          </label>\n        </CheckboxContainer>\n        <HorizontalButtons>\n          <SecondaryButton\n            label=\"Ver comida registrada\"\n            onClick={() => history.push(\"/myFood\")}\n          />\n          <SubmitButton\n            label=\"Registrar\"\n            onSubmit={onFormSubmit}\n            loading={saving}\n            disabled={!containsValidData}\n          />\n        </HorizontalButtons>\n\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          }}\n          open={showError}\n          autoHideDuration={4000}\n        >\n          <Alert onClose={() => setShowError(false)} severity=\"error\">\n            ¡Oh no! Algo ha ido mal. Vuelve a intentarlo en un rato.\n          </Alert>\n        </Snackbar>\n      </Container>\n    </div>\n  );\n};\n\nexport default FoodOfferScreen;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\n\ninterface ContainerProps {\n  readonly isSelected: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  display: flex;\n  flex-direction: column;\n  background: ${props => (props.isSelected ? \"#D3EAFF\" : \"#f6f6f6\")};\n  margin: 16px;\n  padding: 16px;\n  box-shadow: 0px 8px 0px\n    ${props => (props.isSelected ? \"#92CAFF\" : \"rgba(0, 0, 0, 0.1)\")};\n  border-radius: 8px;\n  border: 2px solid ${props => (props.isSelected ? \"#D3EAFF\" : \"#f6f6f6\")};\n  cursor: pointer;\n  :hover {\n    border: 2px solid #2997fc;\n  }\n`;\n\nconst Food = styled.p`\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin: 0;\n`;\n\nconst Contact = styled.p`\n  margin: 0;\n  margin-top: 8px;\n  font-weight: 600;\n  color: #2997fc;\n`;\n\ninterface Props {\n  offer: FoodOffer;\n  isSelected: boolean;\n  onOfferSelected: (offer: FoodOffer) => void;\n  onOfferHovered: (offer?: FoodOffer) => void;\n}\n\nconst ResultRow: React.FC<Props> = ({\n  offer,\n  isSelected,\n  onOfferSelected,\n  onOfferHovered\n}) => {\n  return (\n    <Container\n      onClick={() => onOfferSelected(offer)}\n      onMouseEnter={() => onOfferHovered(offer)}\n      onMouseLeave={() => onOfferHovered(undefined)}\n      isSelected={isSelected}\n    >\n      <Food>{offer.food}</Food>\n      <Contact>{offer.contact}</Contact>\n    </Container>\n  );\n};\n\nexport default ResultRow;\n","import React from \"react\";\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\n\nimport createSvgIcon from \"@material-ui/icons/utils/createSvgIcon\";\nimport {withStyles} from \"@material-ui/core/styles\";\n\nconst noTransformText: React.CSSProperties = {\n  textTransform: \"none\"\n};\n\nconst styles = {\n  shareButton: {\n    ...noTransformText,\n    background: \"rgb(29, 161, 242)\",\n    padding: \"10px 25px\",\n    marginTop: \"16px\",\n    borderRadius: \"48px\",\n    border: \"none\",\n    fontSize: \"0.9rem\",\n    fontWeight: 700,\n    color: \"#fff\",\n    alignSelf: \"center\",\n    fontFamily: \"Montserrat, sans-serif\",\n    \"&:hover\": {\n      background: \"rgb(49, 181, 255)\"\n    }\n  },\n  icon: {\n    color: \"#FFF\"\n  },\n  justIcon: {\n    color: \"rgb(29, 161, 242)\"\n  }\n};\n\ntype ShareInTwitterButtonProps = {\n  text: string;\n  hashtag?: string,\n  label?: string;\n  justIcon?: boolean,\n  url?: string,\n  classes?: any,\n}\n\n\nconst TwitterIcon = createSvgIcon(\n  <path\n    d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"/>,\n  \"TwitterIcon\"\n);\n\n\nconst ShareInTwitterButton: React.FC<ShareInTwitterButtonProps> = ({\n                                                                     text,\n                                                                     label = \"Tweet\",\n                                                                     justIcon = false,\n                                                                     hashtag,\n                                                                     url,\n                                                                     classes\n                                                                   }) => {\n  const encodedMessage = encodeURI(text);\n  const hashPart = hashtag ? `button_hashtag=${hashtag}` : \"\";\n  const urlPart = url ? `&url=${encodeURI(url)}`: \"\";\n  const tweetUrl = `https://twitter.com/intent/tweet?text=${encodedMessage}&${hashPart}${urlPart}`;\n\n  const shareButton = justIcon ?(\n    <IconButton>\n      <TwitterIcon className={classes.justIcon}/>\n    </IconButton>\n  ) :(<Button\n    className = {classes.shareButton}\n    startIcon={<TwitterIcon className={classes.icon}/>}\n    href={tweetUrl}>{label}</Button>);\n  return shareButton;\n}\n\nexport default withStyles(styles)(ShareInTwitterButton);\n","import React, { Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport ResultRow from \"./ResultRow\";\nimport { CircularProgress, withStyles } from \"@material-ui/core\";\nimport ShareInTwitterButton from \"../../ui/ShareInTwitterButton\";\nimport config from \"../../../foundation/Config\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\ninterface Props {\n  offers: FoodOffer[];\n  isLoading: boolean;\n  selectedOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n  onOfferHovered: (offer?: FoodOffer) => void;\n  classes: any;\n  address?: string;\n}\n\nconst NotFoundIllustration = styled.img`\n  position: relative;\n  justify-self: flex-end;\n  max-height: 450px;\n  height: 100%;\n  @media (max-width: 960px) {\n    height: 0;\n  }\n`;\n\nconst NoFoundText = styled.p`\n  font-size: 1.2rem;\n  margin: 0;\n  margin-bottom: 16px;\n  text-align: center;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  height: 100%;\n  align-content: center;\n  align-items: center;\n`;\n\nconst styles = {\n  progressStyle: {\n    color: \"#E27861\"\n  }\n};\n\nconst ResultList: React.FC<Props> = ({\n  offers,\n  isLoading,\n  selectedOffer,\n  onOfferSelected,\n  onOfferHovered,\n  classes,\n  address\n}) => {\n  const Loading = () => {\n    return (\n      <LoadingContainer>\n        <CircularProgress className={classes.progressStyle} />\n      </LoadingContainer>\n    );\n  };\n\n  const EmptyCase = () => {\n    const message =\n      \"¡Acabo de solicitar un tupper a través de yotecocino.com! La iniciativa que pone en contacto a sanitarios y otros profesionales en primera línea con cocinillas.\";\n    return (\n      <Fragment>\n        <NotFoundIllustration src={\"img/il_empty.svg\"} />\n        <NoFoundText>\n          Ooh :(, parece que no hay nadie cocinando en tu zona.\n        </NoFoundText>\n        <ShareInTwitterButton\n          label=\"Busca a tu cocinillas :)\"\n          text={message}\n          hashtag={config.hashtag}\n          url={config.url}\n        />\n      </Fragment>\n    );\n  };\n\n  let results;\n  if (isLoading) {\n    results = <Loading />;\n  } else if (offers.length === 0) {\n    results = <EmptyCase />;\n  } else {\n    results = offers.map(offer => (\n      <ResultRow\n        key={offer.food}\n        offer={offer}\n        onOfferSelected={onOfferSelected}\n        onOfferHovered={onOfferHovered}\n        isSelected={offer.food === selectedOffer?.food}\n      />\n    ));\n  }\n\n  return <Container>{results}</Container>;\n};\n\nexport default withStyles(styles)(ResultList);\n","import React, { Fragment, memo } from \"react\";\nimport { Marker } from \"react-map-gl\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\n\ninterface Props {\n  offers: FoodOffer[];\n  selectedOffer?: FoodOffer;\n  hoveredOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n}\n\ninterface OfferMarkerProps {\n  offer: FoodOffer;\n}\n\nconst ResultMapMarkers: React.FC<Props> = ({\n  offers,\n  selectedOffer,\n  hoveredOffer,\n  onOfferSelected\n}) => {\n  const markerIcon = require(\"../../../img/ic_marker.svg\") as string;\n  const selectedMarkerIcon = require(\"../../../img/ic_marker_selected.svg\") as string;\n  const hoveredMarkerIcon = require(\"../../../img/ic_marker_hovered.svg\") as string;\n\n  const OfferMarker = ({ offer }: OfferMarkerProps) => {\n    let icon;\n\n    if (\n      selectedOffer?.food === offer.food &&\n      selectedOffer?.coordinates.latitude === offer.coordinates.latitude &&\n      selectedOffer?.coordinates.longitude === offer.coordinates.longitude\n    ) {\n      icon = selectedMarkerIcon;\n    } else if (\n      hoveredOffer?.food === offer.food &&\n      hoveredOffer?.coordinates.latitude === offer.coordinates.latitude &&\n      hoveredOffer?.coordinates.longitude === offer.coordinates.longitude\n    ) {\n      icon = hoveredMarkerIcon;\n    } else {\n      icon = markerIcon;\n    }\n\n    return (\n      <Marker\n        key={offer.food}\n        longitude={offer.coordinates.longitude}\n        latitude={offer.coordinates.latitude}\n        offsetTop={-32}\n        offsetLeft={-32}\n      >\n        <img src={icon} onClick={() => onOfferSelected(offer)} alt=\"\"></img>\n      </Marker>\n    );\n  };\n\n  const Markers = () => {\n    const markers = offers.map(offer => <OfferMarker offer={offer} />);\n    return <Fragment>{markers}</Fragment>;\n  };\n\n  return <Markers />;\n};\n\nexport default memo(ResultMapMarkers);\n","import React, { useState } from \"react\";\nimport config from \"../../../foundation/Config\";\nimport ReactMapGL, { WebMercatorViewport } from \"react-map-gl\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport { useBoundingBox } from \"../hooks/UseBoundingBox\";\nimport { Coordinates } from \"foundation/types/Coordinates\";\nimport ResultMapMarkers from \"./ResultMapMarkers\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: scroll;\n  min-height: 450px;\n\n  @media (max-width: 960px) {\n    min-height: 250px;\n  }\n`;\n\nconst Map = styled(ReactMapGL)`\n  border-radius: 32px 32px 0px 0px;\n`;\n\ninterface Props {\n  searchedArea: Coordinates;\n  offers: FoodOffer[];\n  selectedOffer?: FoodOffer;\n  hoveredOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n}\n\nconst ResultMap: React.FC<Props> = ({\n  searchedArea,\n  offers,\n  selectedOffer,\n  hoveredOffer,\n  onOfferSelected\n}) => {\n  const auth = {\n    mapboxApiAccessToken: config.mapsToken\n  };\n\n  const mapConfig = {\n    mapStyle: config.mapLayout,\n    zoom: 15\n  };\n\n  let noOffersFound = offers.length === 0;\n  const allCoordinates = noOffersFound\n    ? [searchedArea]\n    : offers.map(offer => offer.coordinates);\n\n  const boundingBox = useBoundingBox(allCoordinates);\n\n  const [viewport, setViewport] = useState<Coordinates | undefined>(undefined);\n\n  let locationViewPort =\n    allCoordinates.length === 1\n      ? {\n          ...allCoordinates[0],\n          zoom: 15\n        }\n      : new WebMercatorViewport({ width: 800, height: 600 }).fitBounds(\n          [\n            [\n              boundingBox.swCoordinate.longitude,\n              boundingBox.swCoordinate.latitude\n            ],\n            [\n              boundingBox.neCoordinate.longitude,\n              boundingBox.neCoordinate.latitude\n            ]\n          ],\n          { padding: 150 }\n        );\n  const mapViewport = viewport !== undefined ? viewport : locationViewPort;\n\n  let resultMapMarkers = noOffersFound ? null : (\n    <ResultMapMarkers\n      offers={offers}\n      selectedOffer={selectedOffer}\n      hoveredOffer={hoveredOffer}\n      onOfferSelected={onOfferSelected}\n    />\n  );\n  return (\n    <Container>\n      <Map\n        {...auth}\n        {...mapConfig}\n        {...mapViewport}\n        width=\"100%\"\n        height=\"100%\"\n        onViewportChange={props => setViewport(props)}\n      >\n        {resultMapMarkers}\n      </Map>\n    </Container>\n  );\n};\n\nexport default ResultMap;\n","import { Coordinates } from \"foundation/types/Coordinates\";\n\nexport interface BoundingBox {\n  swCoordinate: Coordinates;\n  neCoordinate: Coordinates;\n}\n\nexport function useBoundingBox(coordinates: Coordinates[]): BoundingBox {\n  const allLatitudes = coordinates.map(c => c.latitude);\n  const allLongitudes = coordinates.map(c => c.longitude);\n  const minLatitude = allLatitudes.reduce(\n    (a: number, b: number) => (a < b ? a : b),\n    90\n  );\n  const maxLatitude = allLatitudes.reduce(\n    (a: number, b: number) => (a > b ? a : b),\n    -90\n  );\n  const minLongitude = allLongitudes.reduce(\n    (a: number, b: number) => (a < b ? a : b),\n    180\n  );\n  const maxLongitude = allLongitudes.reduce(\n    (a: number, b: number) => (a > b ? a : b),\n    -180\n  );\n  return {\n    swCoordinate: { latitude: minLatitude, longitude: minLongitude },\n    neCoordinate: { latitude: maxLatitude, longitude: maxLongitude }\n  };\n}\n","import { FoodOffer } from \"../types/FoodOffer\";\nimport { FoodSearchCriteria } from \"../types/FoodSearchCriteria\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport Geohash from \"latlon-geohash\";\n\nexport default class FindFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(criteria: FoodSearchCriteria): Promise<FoodOffer[]> {\n    const day = dayjs(criteria.day).format(\"YYYY-MM-DD\");\n    const geohash = Geohash.encode(\n      criteria.nearTo.latitude,\n      criteria.nearTo.longitude,\n      6\n    );\n    const neighborGeohashes = Geohash.neighbours(geohash);\n    const allGeohashes = [\n      neighborGeohashes.nw,\n      neighborGeohashes.n,\n      neighborGeohashes.ne,\n      neighborGeohashes.e,\n      neighborGeohashes.se,\n      neighborGeohashes.s,\n      neighborGeohashes.sw,\n      neighborGeohashes.w,\n      geohash\n    ];\n    const service = criteria.service.toString();\n\n    try {\n      const response = await axios.get(\n        `https://europe-west1-yotecocino-d6292.cloudfunctions.net/offer?geohashes=${allGeohashes}&day=${day}&service=${service}`\n      );\n\n      return response?.data ?? [];\n    } catch (_) {\n      return [];\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Coordinates } from \"foundation/types/Coordinates\";\nimport ResultList from \"./components/ResultList\";\nimport ResultMap from \"./components/ResultMap\";\nimport { Service } from \"../../foundation/types/Service\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport FindFood from \"../../foundation/food/FindFood\";\nimport Grid from \"@material-ui/core/Grid\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 80%;\n  height: 80%;\n  margin: 32px 0;\n  background: #fff;\n  border-radius: 32px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  padding: 32px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\ninterface Props {\n  coordinates: Coordinates;\n  day: Date;\n  service: Service;\n  address?: string;\n}\n\nconst SearchResultsScreen: React.FC<Props> = ({\n  coordinates,\n  day,\n  service,\n                                                address\n}) => {\n  const findFood = new FindFood();\n  const [offers, setOffers] = useState<FoodOffer[]>([]);\n  const [needToLoad, setNeedToLoad] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (needToLoad) {\n      findFood\n        .execute({\n          day,\n          service,\n          nearTo: coordinates\n        })\n        .then(found => {\n          setOffers(found);\n          setNeedToLoad(false);\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [selectedOffer, setSelectedOffer] = useState<FoodOffer | undefined>(\n    undefined\n  );\n  const [hoveredOffer, setHoveredOffer] = useState<FoodOffer | undefined>(\n    undefined\n  );\n\n  return (\n    <div>\n      <HomeButton />\n      <Container>\n        <Grid container={true} spacing={3}>\n          <Grid item xs={12} md={6} lg={4}>\n            <ResultList\n              offers={offers}\n              isLoading={needToLoad}\n              onOfferSelected={offer => setSelectedOffer(offer)}\n              onOfferHovered={offer => setHoveredOffer(offer)}\n              selectedOffer={selectedOffer}\n              address={address}\n            />\n          </Grid>\n          <Grid item xs={12} md={6} lg={8}>\n            <ResultMap\n              searchedArea={coordinates}\n              offers={offers}\n              selectedOffer={selectedOffer}\n              hoveredOffer={hoveredOffer}\n              onOfferSelected={offer => setSelectedOffer(offer)}\n            />\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default SearchResultsScreen;\n","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport SecondaryButton from \"feature/ui/SecondaryButton\";\nimport SubmitButton from \"feature/ui/SubmitButton\";\nimport { HorizontalButtons, Container } from \"feature/ui/StyledForm\";\nimport HomeButton from \"feature/ui/HomeButton\";\nimport ShareInTwitterButton from \"../ui/ShareInTwitterButton\";\nimport config from \"../../foundation/Config\";\n\nconst Congratulations = styled.p`\n  text-align: center;\n  font-weight: bold;\n  font-size: 18px;\n  margin: 0;\n`;\n\nconst Description = styled.p`\n  text-align: center;\n  font-size: 18px;\n  line-height: 22px;\n  margin: 8px;\n`;\n\nconst Footer = styled.div`\n  margin-top: 16px;\n`;\n\nconst Brand = styled.span`\n  font-size: 24px;\n  font-family: \"Pacifico\", cursive;\n`;\n\nconst Identifier = styled.p`\n  font-size: 2rem;\n  font-family: \"Pacifico\", cursive;\n  text-align: center;\n  color: #2997fc;\n  margin: 0;\n\n  @media (max-width: 768px) {\n    font-size: 1.5rem;\n  }\n`;\n\nconst Centered = styled.div`\n  margin: 20px auto;\n`;\ntype CreatedFoodOfferScreenProps = {\n  match?: any;\n};\n\nconst CreatedFoodOfferScreen: React.FC<CreatedFoodOfferScreenProps> = ({\n  match\n}) => {\n  const history = useHistory();\n\n  const shareText =\n    \"¡Acabo de registrar un tupper a través de yotecocino.com! La iniciativa que pone en contacto a sanitarios y otros profesionales en primera línea con cocinillas ¡Únete tú también y pon tu granito de arena!\";\n  return (\n    <div>\n      <HomeButton />\n      <Container>\n        <Congratulations>¡Enhorabuena!</Congratulations>\n        <Description>\n          Tu ayuda ha quedado registrada. Cuando acuerdes a quién se la darás,\n          tan solo tienes que visitar <Brand>#yotecocino</Brand> para marcarla\n          como asignada.\n        </Description>\n        <br />\n        <Description>El identificador de tu comida es:</Description>\n        <Identifier>{match.params.foodId}</Identifier>\n\n        <Centered>\n          <ShareInTwitterButton\n            text={shareText}\n            label={\"compártelo\"}\n            hashtag={config.hashtag}\n            url={config.url}\n          />\n        </Centered>\n        <Footer>\n          <HorizontalButtons>\n            <SecondaryButton\n              label=\"Ver comida registrada\"\n              onClick={() => history.push(\"/myFood\")}\n            />\n            <SubmitButton\n              label=\"Registrar otra\"\n              onClick={() => history.push(\"/cook\")}\n              loading={false}\n              disabled={false}\n            />\n          </HorizontalButtons>\n        </Footer>\n      </Container>\n    </div>\n  );\n};\n\nexport default CreatedFoodOfferScreen;\n","import {FoodOffer} from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\n\nexport default class FindOfferedFoods {\n    private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n    execute(): Promise<FoodOffer[]> {\n        return Promise.resolve(\n            this.myCreatedFoodsRepository.findAll()\n        );\n    }\n}","import { FoodOffer } from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\n\nexport default class FindFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(food: FoodOffer | string): Promise<boolean> {\n    const effectiveFood =\n      typeof food === \"string\"\n        ? this.myCreatedFoodsRepository.find(food)\n        : food;\n\n    if (effectiveFood) {\n      try {\n        const response = await axios.delete(\n          `https://europe-west1-yotecocino-d6292.cloudfunctions.net/deleteOffer?id=${effectiveFood?.id}`\n        );\n\n        if (response.status === 200) {\n          this.myCreatedFoodsRepository.delete(effectiveFood);\n        }\n\n        return response.status === 200;\n      } catch (_) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n  Container,\n  MyCreatedFoodItem,\n  InputTitle,\n  OptionsContainer,\n  Text,\n  TextInput,\n  Title,\n  Warning,\n  HorizontalButtons\n} from \"../ui/StyledForm\";\nimport FindOfferedFoods from \"../../foundation/food/FindOfferedFoods\";\nimport { FoodOffer } from \"../../foundation/types/FoodOffer\";\nimport RemoveFood from \"../../foundation/food/RemoveFood\";\nimport { Snackbar } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport SecondaryButton from \"feature/ui/SecondaryButton\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport HomeButton from \"feature/ui/HomeButton\";\nimport { Service } from \"foundation/types/Service\";\n\nconst InputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst ManageAllMyFoods: React.FC = () => {\n  const findAllMyFood = new FindOfferedFoods();\n  const removeFood = new RemoveFood();\n\n  const history = useHistory();\n  const [saving, setSaving] = useState<boolean>(false);\n  const [offeredFood, setOfferedFood] = useState<FoodOffer[]>([]);\n  const [foodId, setFoodId] = useState<string | null>(null);\n  const [needToLoadMyFoods, setNeedToLoadMyFoods] = useState<boolean>(true);\n  const [showError, setShowError] = useState(false);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (needToLoadMyFoods) {\n      findAllMyFood.execute().then(setOfferedFood);\n      setNeedToLoadMyFoods(false);\n    }\n  }, [needToLoadMyFoods, findAllMyFood]);\n\n  const deleteFood = (event: any) => {\n    event.preventDefault();\n    setSaving(true);\n    removeFood\n      .execute(foodId || \"\")\n      .then(success => {\n        setSaving(false);\n        if (!success) {\n          setShowError(true);\n        } else {\n          setFoodId(null);\n          setNeedToLoadMyFoods(true);\n        }\n      })\n      .catch(() => {\n        setSaving(false);\n        setFoodId(null);\n        setShowError(true);\n      });\n  };\n\n  const createdFoodList = (\n    <div>\n      <Text>\n        Puedes elegir uno de los que ya has creado en este dispositivo:\n      </Text>\n      <OptionsContainer>\n        {offeredFood.map(food => {\n          const onClick = () => {\n            setFoodId(food.id || \"\");\n          };\n          const service = food.service === Service.lunch ? \"Comida\" : \"Cena\";\n          return (\n            <MyCreatedFoodItem onClick={onClick}>\n              <b>{food.food}</b> • <i>{food.date}</i> • {service}\n            </MyCreatedFoodItem>\n          );\n        })}\n      </OptionsContainer>\n    </div>\n  );\n\n  const list = offeredFood.length > 0 ? createdFoodList : null;\n  const nothingToBeDeleted = !foodId;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={deleteFood}>\n        <Title>Introduce el identificador de tu comida registrada</Title>\n        {list}\n        <label>\n          <InputTitle>O introducir el identificador de tu comida:</InputTitle>\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"e.g. mbqrK6xagwsjbzysVulv\"\n              value={foodId ?? \"\"}\n              onChange={event => setFoodId(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <Warning>\n          Recuerda que este paso eliminará de forma permanente la comida\n          registrada. Para hacer modificaciones, tendrás que registrar una\n          nueva.\n        </Warning>\n        <br />\n        <HorizontalButtons>\n          <SecondaryButton\n            label=\"Registrar comida\"\n            onClick={() => history.push(\"/cook\")}\n          />\n          <SubmitButton\n            label=\"Eliminar\"\n            loading={saving}\n            disabled={nothingToBeDeleted}\n            onSubmit={deleteFood}\n          />\n        </HorizontalButtons>\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          }}\n          open={showError}\n          autoHideDuration={4000}\n        >\n          <Alert onClose={() => setShowError(false)} severity=\"error\">\n            ¡Oh no! Algo ha ido mal. Vuelve a intentarlo en un rato.\n          </Alert>\n        </Snackbar>\n      </Container>\n    </div>\n  );\n};\n\nexport default ManageAllMyFoods;\n","import React from \"react\";\nimport WelcomeScreen from \"feature/welcome/WelcomeScreen\";\nimport SearchScreen from \"feature/search/SearchScreen\";\nimport FoodOfferScreen from \"feature/food/FoodOfferScreen\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport SearchResultsScreen from \"feature/search/SearchResultsScreen\";\nimport { useQuery } from \"foundation/router/UseQuery\";\nimport \"./index.scss\";\nimport CreatedFoodOfferScreen from \"./feature/food/CreatedFoodOfferScreen\";\nimport ManageAllMyFoods from \"./feature/food/ManageAllMyFoods\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\n\nconst App: React.FC = () => {\n  const parseLocation = (location: string) => {\n    const parts = location.split(\",\");\n    return {\n      latitude: Number(parts[0]),\n      longitude: Number(parts[1])\n    };\n  };\n\n  const parseService = (service: string) => {\n    switch (service.toLowerCase()) {\n      case \"lunch\":\n        return Service.lunch;\n      case \"dinner\":\n        return Service.dinner;\n      default:\n        return Service.lunch;\n    }\n  };\n\n  const Routes = () => {\n    const query = useQuery();\n\n    return (\n      <Switch>\n        <Route path=\"/search/results\">\n          <SearchResultsScreen\n            coordinates={parseLocation(query.get(\"location\") ?? \"0,0\")}\n            day={dayjs(query.get(\"day\") ?? \"\").toDate()}\n            service={parseService(query.get(\"service\") ?? \"\")}\n            address={decodeURI(query.get(\"address\") ?? \"\")}\n          />\n        </Route>\n        <Route exact path=\"/search\">\n          <SearchScreen />\n        </Route>\n        <Route exact path=\"/cook\">\n          <FoodOfferScreen />\n        </Route>\n        <Route exact path=\"/myFood\">\n          <ManageAllMyFoods />\n        </Route>\n        <Route exact path=\"/food/:foodId\" component={CreatedFoodOfferScreen} />\n        <Route path=\"/\">\n          <WelcomeScreen />\n        </Route>\n      </Switch>\n    );\n  };\n\n  return (\n    <div>\n      <Router>\n        <Routes />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","/* istanbul ignore file */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* istanbul ignore file */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}