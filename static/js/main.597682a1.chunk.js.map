{"version":3,"sources":["img/ic_marker.svg","img/ic_marker_selected.svg","img/ic_marker_hovered.svg","feature/ui/StyledFooter.ts","feature/ui/Footer.tsx","feature/welcome/WelcomeScreen.tsx","foundation/types/Service.ts","feature/ui/StyledForm.ts","foundation/Config.ts","foundation/places/ConvertLocationToCoords.ts","feature/ui/SearchPlaceInput.tsx","feature/ui/LocationInput.tsx","feature/ui/SubmitButton.tsx","feature/ui/HomeButton.tsx","feature/search/SearchScreen.tsx","foundation/food/MyCreatedFoodsRepository.ts","foundation/food/SaveFood.ts","feature/ui/SecondaryButton.tsx","feature/food/FoodOfferScreen.tsx","feature/search/components/ResultRow.tsx","feature/search/components/ResultList.tsx","feature/search/components/ResultMapMarkers.tsx","feature/search/components/ResultMap.tsx","feature/search/hooks/UseBoundingBox.ts","foundation/food/FindFood.ts","feature/search/SearchResultsScreen.tsx","feature/food/CreatedFoodOfferScreen.tsx","foundation/food/FindOfferedFoods.ts","foundation/food/RemoveFood.ts","feature/food/ManageAllMyFoods.tsx","App.tsx","foundation/router/UseQuery.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","FooterContainer","styled","div","FooterContent","p","FooterLink","a","Footer","role","aria-label","href","Service","Container","Title","OptionsContainer","OptionContainer","OptionTitle","OptionIllustration","img","HelpContainer","HelpLink","WelcomeScreen","history","useHistory","AcceptFoodButton","onClick","push","src","ProvideFoodButton","form","InputTitle","InputHint","span","FieldErrorDescription","TextInput","input","CheckboxContainer","label","CheckboxInput","DateInputContainer","DateInput","ReactDatePicker","RadioInput","Text","MyCreatedFoodItem","Warning","HorizontalButtons","config","mapsToken","mapLayout","country","language","ConvertLocationToCoords","address","filter","searchableAddress","encodeURI","authPart","mapboxApiAccessToken","filterByCountry","filterByLanguage","searchUrl","fetch","then","response","json","foundPlaces","type","features","map","place","latitude","center","longitude","place_name","useStyles","makeStyles","theme","icon","color","palette","text","secondary","marginRight","spacing","search","backgroundColor","marginBottom","border","height","width","borderRadius","paddingLeft","paddingRight","fontSize","marginTop","fontFamily","root","background","SearchPlaceInput","props","classes","React","useState","inputValue","setInputValue","options","setOptions","convertLocation","handleChange","event","target","value","useMemo","throttle","findPlaces","callback","useEffect","active","results","error","errorMessage","Autocomplete","id","style","maxWidth","getOptionLabel","option","filterOptions","x","autoComplete","freeSolo","includeInputInList","onChange","reason","renderInput","params","hint","TextField","className","placeholder","variant","renderOption","Grid","container","alignItems","item","xs","Typography","LocationInput","state","viewport","zoom","marker","updateViewPort","bind","updateAddress","this","setLocation","setState","prev","showMap","auth","mapConfig","mapWidth","mapHeight","mapStyle","markerInMap","searchPlacesInput","onViewportChange","Component","defaultProps","withStyles","red","styles","activeButton","textTransform","padding","fontWeight","alignSelf","progressStyle","disabled","loading","onSubmit","submit","buttonContent","CircularProgress","size","Button","Icon","HomeButton","SearchScreen","setAddress","date","setDate","service","setService","onFormSubmit","formattedDate","dayjs","Date","format","onServiceChange","lunch","dinner","Error","criteriaToSearchIsCompleted","placeholderText","selected","preventDefault","preventOpenOnFocus","minDate","name","htmlFor","MyCreatedFoodsRepository","food","allFoods","findAll","localStorage","setItem","JSON","stringify","find","parse","getItem","foodOffer","lessFood","SaveFood","myCreatedFoodsRepository","geohash","Geohash","encode","coordinates","axios","post","contact","day","foodname","status","undefined","data","foodWithId","save","InputContainer","FoodOfferScreen","saveFood","setContact","location","description","setDescripiton","acceptPrivacyPolicy","setAcceptPrivacyPolicy","violations","setViolations","showError","setShowError","saving","setSaving","validateForm","Object","keys","length","execute","savedFood","containsValidData","dateError","serviceError","contactError","descriptionError","privacyPolicyError","privacyPolicy","checked","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","Alert","onClose","severity","isSelected","Food","Contact","ResultRow","offer","onOfferSelected","onOfferHovered","onMouseEnter","onMouseLeave","NotFoundIllustration","NoFoundText","LoadingContainer","offers","isLoading","selectedOffer","Loading","EmptyCase","key","memo","hoveredOffer","markerIcon","require","selectedMarkerIcon","hoveredMarkerIcon","OfferMarker","offsetTop","offsetLeft","alt","Markers","markers","Map","ReactMapGL","ResultMap","searchedArea","noOffersFound","allCoordinates","boundingBox","allLatitudes","c","allLongitudes","minLatitude","reduce","b","maxLatitude","swCoordinate","neCoordinate","useBoundingBox","setViewport","locationViewPort","WebMercatorViewport","fitBounds","mapViewport","resultMapMarkers","FindFood","criteria","nearTo","neighborGeohashes","neighbours","allGeohashes","nw","n","ne","e","se","s","sw","w","toString","get","SearchResultsScreen","findFood","setOffers","needToLoad","setNeedToLoad","found","setSelectedOffer","setHoveredOffer","md","lg","Congratulations","Description","Brand","Identifier","CreatedFoodOfferScreen","match","foodId","FindOfferedFoods","Promise","resolve","effectiveFood","delete","ManageAllMyFoods","findAllMyFood","removeFood","RemoveFood","offeredFood","setOfferedFood","setFoodId","needToLoadMyFoods","setNeedToLoadMyFoods","deleteFood","success","catch","createdFoodList","list","nothingToBeDeleted","App","parseLocation","parts","split","Number","parseService","toLowerCase","Routes","query","URLSearchParams","useLocation","path","toDate","exact","component","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.597682a1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ic_marker.8010c3b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_marker_selected.12e6ff14.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_marker_hovered.42c11130.svg\";","import styled from \"styled-components\";\n\nexport const FooterContainer = styled.div`\n  background: #fff;\n  height: 80px;\n  position: fixed;\n  bottom: 0;\n  display: flex;\n  padding-left: 48px;\n  padding-right: 48px;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 32px 32px 0 0;\n\n  -webkit-animation: slide-in-bottom 0.5s cubic-bezier(0.19, 1, 0.22, 1) both;\n  animation: slide-in-bottom 0.5s cubic-bezier(0.19, 1, 0.22, 1) both;\n  @-webkit-keyframes slide-in-bottom {\n    0% {\n      -webkit-transform: translateY(1000px);\n      transform: translateY(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n  @keyframes slide-in-bottom {\n    0% {\n      -webkit-transform: translateY(1000px);\n      transform: translateY(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @media (max-width: 768px) {\n    height: 120px;\n  }\n`;\n\nexport const FooterContent = styled.p`\n  margin: 0;\n  text-align: center;\n  align-self: center;\n`;\n\nexport const FooterLink = styled.a`\n  text-decoration: none;\n  color: #2997fc;\n  font-weight: 600;\n`;\n","import React from \"react\";\nimport { FooterContainer, FooterLink, FooterContent } from \"./StyledFooter\";\n\nconst Footer: React.FC = () => {\n  return (\n    <FooterContainer>\n      <FooterContent><b>¡Estamos de pruebas!</b></FooterContent>\n      <FooterContent>\n        Creado con mucho{\" \"}\n        <span role=\"img\" aria-label=\"amor\">\n          ❤️\n        </span>{\" \"}\n        por{\" \"}\n        <FooterLink href=\"https://twitter.com/Serchinastico\">\n          @Serchinastico\n        </FooterLink>\n        , <FooterLink href=\"https://twitter.com/delr3ves\">@delr3ves</FooterLink>{\" \"}\n        y{\" \"}\n        <FooterLink href=\"https://www.linkedin.com/in/aliciacarbajalzapater/\">\n          @alicarbajal\n        </FooterLink>\n      </FooterContent>\n    </FooterContainer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport Footer from \"feature/ui/Footer\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Title = styled.div`\n  font-size: 3rem;\n  font-family: \"Pacifico\", cursive;\n  color: #303240;\n  margin-top: 32px;\n`;\n\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-top: 24px;\n  margin-bottom: 128px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst OptionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-radius: 16px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  height: 320px;\n  width: 256px;\n  margin: 40px;\n  justify-content: center;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin-top: 16px;\n  }\n`;\n\nconst OptionTitle = styled.p`\n  font-size: 1.5rem;\n  text-align: center;\n  position: relative;\n  font-weight: 600;\n  top: 32px;\n`;\n\nconst OptionIllustration = styled.img`\n  position: relative;\n  bottom: 39px;\n  justify-self: flex-end;\n`;\n\nconst HelpContainer = styled.div`\n  background: #fff;\n  border-radius: 16px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n`;\n\nconst HelpLink = styled.a`\n  font-size: 1.3rem;\n  font-weight: 800;\n  color: #2997fc;\n  text-decoration: underline;\n`;\n\nconst WelcomeScreen: React.FC = () => {\n  const history = useHistory();\n\n  const AcceptFoodButton = () => {\n    return (\n      <OptionContainer onClick={() => history.push(\"/search\")}>\n        <OptionTitle>Acepto comida</OptionTitle>\n        <OptionIllustration src={\"img/il_doctor.svg\"} />\n      </OptionContainer>\n    );\n  };\n\n  const ProvideFoodButton = () => {\n    return (\n      <OptionContainer onClick={() => history.push(\"/cook\")}>\n        <OptionTitle>Ofrezco comida</OptionTitle>\n        <OptionIllustration src={\"img/il_chef.svg\"} />\n      </OptionContainer>\n    );\n  };\n\n  return (\n    <Container>\n      <Title>#yotecocino</Title>\n      <HelpContainer>\n        <HelpLink href=\"how.pdf\">¿Cómo funciona?</HelpLink>\n      </HelpContainer>\n      <OptionsContainer>\n        <AcceptFoodButton />\n        <ProvideFoodButton />\n      </OptionsContainer>\n      <Footer />\n    </Container>\n  );\n};\n\nexport default WelcomeScreen;\n","export enum Service {\n  lunch = \"Lunch\",\n  dinner = \"Dinner\"\n}\n","import styled from \"styled-components\";\nimport ReactDatePicker from \"react-datepicker\";\n\nexport const Container = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  max-width: 500px;\n  background: #ffffff;\n  border-radius: 32px;\n  position: relative;\n  padding: 32px;\n  margin: 64px auto;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  overflow: scroll;\n`;\n\nexport const InputTitle = styled.p`\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n`;\n\nexport const InputHint = styled.span`\n  color: #9c9c9c;\n  font-size: 0.9rem;\n`;\n\nexport const FieldErrorDescription = styled.p`\n  font-size: 0.7rem;\n  color: #e27861;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 5px;\n`;\n\nexport const TextInput = styled.input`\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  height: 40px;\n  width: 100%;\n  border-radius: 24px;\n  padding-left: 16px;\n  padding-right: 16px;\n  font-size: 0.9rem;\n  margin-top: 8px;\n  font-family: \"Montserrat\", sans-serif;\n\n  &::placeholder {\n    font-family: \"Montserrat\", sans-serif;\n  }\n`;\n\nexport const CheckboxContainer = styled.label`\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const CheckboxInput = styled.input`\n  margin-top: 4px;\n  margin-right: 24px;\n`;\n\nexport const DateInputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nexport const DateInput = styled(ReactDatePicker)`\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  height: 40px;\n  width: 100%;\n  max-width: 470px;\n  border-radius: 24px;\n  padding-left: 16px;\n  padding-right: 16px;\n  font-size: 0.9rem;\n  margin-top: 8px;\n  font-family: \"Montserrat\", sans-serif;\n\n  &::placeholder {\n    font-family: \"Montserrat\", sans-serif;\n  }\n`;\n\nexport const RadioInput = styled.input`\n  padding: 16px;\n  margin: 16px;\n  font-size: 1rem;\n`;\n\nexport const Title = styled.p`\n  font-weight: 600;\n  font-size: 1.2rem;\n  margin: 0;\n  margin-bottom: 16px;\n`;\n\nexport const Text = styled.p`\n  font-weight: light;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n`;\n\nexport const Link = styled.a`\n  font-weight: light;\n  font-family: \"Pacifico\", sans-serif;\n  text-decoration: none;\n  color: #000;\n`;\n\nexport const MyCreatedFoodItem = styled.p`\n  font-weight: lighter;\n  padding: 0;\n  padding-left: 24px;\n  margin: 0;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  cursor: pointer;\n  &:not(:last-child) {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  }\n`;\n\nexport const Warning = styled.p`\n  font-weight: 500;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 4px;\n  margin-top: 16px;\n  text-align: center;\n`;\n\nexport const OptionsContainer = styled.div`\n  margin-top: 16px;\n  border: 0.5px solid rgba(0, 0, 0, 0.2);\n  border-radius: 16px;\n`;\n\nexport const HorizontalButtons = styled.div`\n  display: flex;\n  flex-direction: center;\n  justify-content: space-between;\n`;\n","const config = {\n  mapsToken:\n    \"pk.eyJ1Ijoic2VyY2hpbmFzdGljbyIsImEiOiJjanJobXAxaDkwMGRvM3lveDRiMm81ZXB3In0.GbKjt0_Or0z-d1MxmJ5GXA\",\n  mapLayout: \"mapbox://styles/mapbox/streets-v11\",\n  country: \"es\",\n  language: \"es\"\n};\n\nexport default config;\n","import {Coordinates} from \"../types/Coordinates\";\n\nexport interface PlaceSearchResult extends Coordinates {\n    address: string\n}\n\nexport interface SearchPlaceFilter {\n    mapboxApiAccessToken: string,\n    country?: string,\n    language?: string\n}\n\nexport default class ConvertLocationToCoords {\n\n    search(address: string, filter: SearchPlaceFilter): Promise<Array<PlaceSearchResult>> {\n        const searchableAddress = encodeURI(address);\n        const authPart = `access_token=${filter.mapboxApiAccessToken}`;\n        const filterByCountry = filter.country ? `&country=${filter.country}` : \"\";\n        const filterByLanguage = filter.language ? `&language=${filter.language}` : \"\";\n\n        const searchUrl = `https://api.mapbox.com/geocoding/v5/mapbox.places/${searchableAddress}.json?${authPart}&autocomplete=true${filterByCountry}${filterByLanguage}`\n        return fetch(searchUrl)\n            .then(response => response.json())\n            .then(foundPlaces => {\n                    if (foundPlaces.type === \"FeatureCollection\") {\n                        return foundPlaces.features.map((place: any) => {\n                            const lat = place.center[1];\n                            const long = place.center[0];\n\n                            return {\n                                latitude: lat,\n                                longitude: long,\n                                address: place.place_name\n                            }\n                        });\n                    } else {\n                        return [];\n                    }\n                }\n            );\n    }\n}\n\n","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport throttle from \"lodash/throttle\";\nimport ConvertLocationToCoords, {\n  PlaceSearchResult,\n  SearchPlaceFilter\n} from \"../../foundation/places/ConvertLocationToCoords\";\nimport { FieldErrorDescription, InputTitle, InputHint } from \"../ui/StyledForm\";\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2)\n  },\n  search: {\n    backgroundColor: \"#FFF\",\n    marginBottom: \"15px\",\n    border: \"0.5px solid rgba(0, 0, 0, 0.2)\",\n    height: \"40px\",\n    width: \"100%\",\n    borderRadius: \"24px\",\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\",\n    fontSize: \"0.9rem\",\n    marginTop: \"8px\",\n    fontFamily: \"'Montserrat', sans-serif\",\n    \"&::placeholder\": {\n      fontFamily: \"'Montserrat', sans-serif\"\n    }\n  },\n  root: {\n    border: 0,\n    background: \"#000\"\n  }\n}));\n\ntype SearchPlaceInputProps = {\n  onChange: (place: PlaceSearchResult) => void;\n  address?: string | null;\n  errorMessage: string | null;\n  label: string | null;\n  hint?: string;\n} & SearchPlaceFilter;\n\nexport default function SearchPlaceInput(props: SearchPlaceInputProps) {\n  const classes = useStyles();\n  const [inputValue, setInputValue] = React.useState(props.address || \"\");\n  const [options, setOptions] = React.useState<PlaceSearchResult[]>([]);\n\n  const convertLocation = new ConvertLocationToCoords();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(event.target.value);\n  };\n\n  const selectPlace = (\n    event: any,\n    value: PlaceSearchResult | null,\n    reason: any\n  ) => {\n    if (value) {\n      props.onChange(value);\n    }\n  };\n\n  const fetch = React.useMemo(\n    () =>\n      throttle(\n        (\n          address: string,\n          findPlaces: ConvertLocationToCoords,\n          config: SearchPlaceInputProps,\n          callback: (results?: PlaceSearchResult[]) => void\n        ) => {\n          findPlaces.search(address, config).then(callback);\n        },\n        200\n      ),\n    []\n  );\n\n  React.useEffect(() => {\n    let active = true;\n\n    if (inputValue === \"\") {\n      setOptions([]);\n      return undefined;\n    }\n\n    fetch(\n      inputValue,\n      convertLocation,\n      props,\n      (results?: PlaceSearchResult[]) => {\n        if (active) {\n          setOptions(results || []);\n        }\n      }\n    );\n\n    return () => {\n      active = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputValue, fetch]);\n\n  const error = props.errorMessage ? (\n    <FieldErrorDescription>{props.errorMessage}</FieldErrorDescription>\n  ) : null;\n  return (\n    <Autocomplete\n      id=\"search-place\"\n      style={{ maxWidth: 400 }}\n      getOptionLabel={option =>\n        typeof option === \"string\" ? option : option.address\n      }\n      filterOptions={x => x}\n      options={options}\n      autoComplete\n      freeSolo\n      includeInputInList\n      onChange={selectPlace}\n      renderInput={params => (\n        <div>\n          <InputTitle>\n            {props.label} <InputHint>{props.hint}</InputHint>\n          </InputTitle>\n          {error}\n          <TextField\n            {...params}\n            className={classes.search}\n            placeholder=\"Calle y número\"\n            variant=\"standard\"\n            onChange={handleChange}\n          />\n        </div>\n      )}\n      renderOption={option => {\n        return (\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <LocationOnIcon className={classes.icon} />\n            </Grid>\n            <Grid item xs>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {option.address}\n              </Typography>\n            </Grid>\n          </Grid>\n        );\n      }}\n    />\n  );\n}\n","import React from \"react\";\nimport ReactMapGL, { Marker, ViewportProps } from \"react-map-gl\";\nimport config from \"../../foundation/Config\";\nimport SearchPlacesInput from \"./SearchPlaceInput\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport red from \"@material-ui/core/colors/red\";\nimport { Coordinates } from \"../../foundation/types/Coordinates\";\n\nconst styles = () => ({\n  marker: {\n    color: red[500],\n    height: 35,\n    width: 35\n  }\n});\n\ninterface Props {\n  setLocation: (location: Coordinates) => void;\n  address?: string | null;\n  showMap: boolean;\n  mapWidth: number | string;\n  mapHeight: number | string;\n  classes: any;\n  errorMessage: string | null;\n  label: string | null;\n  hint?: string;\n}\n\ninterface DefaultProps {\n  showMap: boolean;\n  mapWidth: number | string;\n  mapHeight: number | string;\n  errorMessage: string | null;\n}\n\ntype LocationProps = Props & DefaultProps;\n\ntype LocationInputState = {\n  viewport: any;\n  marker: any | null;\n};\n\nclass LocationInput extends React.Component<LocationProps, LocationInputState> {\n  public static defaultProps: Partial<LocationProps> = {\n    showMap: true,\n    mapWidth: \"100%\",\n    mapHeight: 400,\n    errorMessage: null\n  };\n\n  constructor(props: LocationProps) {\n    super(props);\n    this.state = {\n      viewport: {\n        longitude: -3.70379,\n        latitude: 40.416775,\n        zoom: 14\n      },\n      marker: null\n    };\n    this.updateViewPort = this.updateViewPort.bind(this);\n    this.updateAddress = this.updateAddress.bind(this);\n  }\n\n  updateAddress(address: Coordinates) {\n    this.props.setLocation(address);\n    this.setState((prev: any) => ({\n      ...prev,\n      viewport: {\n        ...prev.viewport,\n        latitude: address.latitude,\n        longitude: address.longitude\n      },\n      marker: {\n        latitude: address.latitude,\n        longitude: address.longitude\n      }\n    }));\n  }\n\n  render() {\n    const { address, classes, errorMessage, label, showMap, hint } = this.props;\n    const { marker, viewport } = this.state;\n    const auth = {\n      mapboxApiAccessToken: config.mapsToken\n    };\n    const mapConfig = {\n      width: this.props.mapWidth,\n      height: this.props.mapHeight,\n      mapStyle: config.mapLayout\n    };\n\n    const markerInMap = marker ? (\n      <Marker {...marker}>\n        <LocationOnIcon className={classes.marker} />\n      </Marker>\n    ) : null;\n\n    const searchPlacesInput = (\n      <SearchPlacesInput\n        {...auth}\n        country={config.country}\n        language={config.language}\n        onChange={this.updateAddress}\n        address={address}\n        errorMessage={errorMessage}\n        label={label}\n        hint={hint}\n      />\n    );\n\n    const map = showMap ? (\n      <ReactMapGL\n        {...auth}\n        {...mapConfig}\n        {...viewport}\n        onViewportChange={this.updateViewPort}\n      >\n        {markerInMap}\n      </ReactMapGL>\n    ) : null;\n\n    return (\n      <div>\n        {searchPlacesInput}\n        {map}\n      </div>\n    );\n  }\n\n  private updateViewPort(viewport: ViewportProps) {\n    return this.setState((prev: any) => ({\n      ...prev,\n      viewport\n    }));\n  }\n}\n\nexport default withStyles(styles)(LocationInput);\n","import React from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\ntype SubmitButtonProps = {\n  loading?: boolean;\n  disabled?: boolean;\n  label: string;\n  onSubmit?: (event: any) => void;\n  onClick?: (event: any) => void;\n  classes: any;\n};\n\nconst noTransformText: React.CSSProperties = {\n  textTransform: \"none\"\n};\n\nconst styles = {\n  activeButton: {\n    ...noTransformText,\n    background: \"#e27861\",\n    padding: \"10px\",\n    marginTop: \"16px\",\n    borderRadius: \"48px\",\n    border: \"none\",\n    width: \"45%\",\n    fontSize: \"0.9rem\",\n    fontWeight: 700,\n    color: \"#fff\",\n    alignSelf: \"center\",\n    fontFamily: \"Montserrat, sans-serif\",\n    \"&:disabled\": {\n      background: \"#ccc\"\n    },\n    \"&:hover\": {\n      background: \"#ef9f8d\"\n    }\n  },\n  progressStyle: {\n    color: \"#FFF\"\n  }\n};\n\nconst SubmitButton: React.FC<SubmitButtonProps> = props => {\n  const disabled = props.disabled || false;\n  const { classes, loading, onSubmit, onClick } = props;\n  const submit = loading ? () => {} : onSubmit;\n\n  const buttonContent = loading ? (\n    <CircularProgress className={classes.progressStyle} size={24} />\n  ) : (\n    props.label\n  );\n  return (\n    <Button\n      className={classes.activeButton}\n      onSubmit={submit}\n      onClick={onClick}\n      type=\"submit\"\n      disabled={disabled}\n    >\n      {buttonContent}\n    </Button>\n  );\n};\n\nexport default withStyles(styles)(SubmitButton);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Icon = styled.img`\n  height: 48px;\n  width: 48px;\n  position: absolute;\n  top: 8px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  cursor: pointer;\n`;\n\nconst HomeButton = () => {\n  const history = useHistory();\n\n  return <Icon src=\"img/ic_home.svg\" onClick={() => history.push(\"/\")}></Icon>;\n};\n\nexport default HomeButton;\n","import React, { useState } from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useHistory } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\nimport {\n  Container,\n  InputTitle,\n  DateInput,\n  DateInputContainer,\n  RadioInput,\n  Title\n} from \"../ui/StyledForm\";\nimport LocationInput from \"../ui/LocationInput\";\nimport { Coordinates } from \"../../foundation/types/Coordinates\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport styled from \"styled-components\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst SearchScreen: React.FC = () => {\n  const history = useHistory();\n  const [address, setAddress] = useState<Coordinates | null>(null);\n  const [date, setDate] = useState<Date | null>(null);\n  const [service, setService] = useState<Service | null>(null);\n\n  const onFormSubmit = () => {\n    const latitude = address?.latitude;\n    const longitude = address?.longitude;\n    const formattedDate = dayjs(date ?? Date()).format(\"YYYY-MM-DD\");\n    history.push(\n      `/search/results?location=${latitude},${longitude}&day=${formattedDate}&service=${service}`\n    );\n  };\n\n  const onServiceChange = (service: string) => {\n    switch (service) {\n      case \"lunch\":\n        setService(Service.lunch);\n        break;\n      case \"dinner\":\n        setService(Service.dinner);\n        break;\n      default:\n        throw new Error(`Invalid service: ${service}`);\n    }\n  };\n\n  const criteriaToSearchIsCompleted =\n    address !== null && date !== null && service !== null;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={onFormSubmit}>\n        <Title>\n          Completa los siguientes campos para buscar una comida preparada\n        </Title>\n        <LocationInput\n          label=\"¿Dónde trabajas?\"\n          setLocation={setAddress}\n          showMap={false}\n          hint=\"Puede ser una dirección aproximada\"\n        />\n        <label>\n          <InputTitle>¿Qué día será la recogida?</InputTitle>\n          <DateInputContainer>\n            <DateInput\n              placeholderText=\"Selecciona el día\"\n              selected={date}\n              onChange={(date, event) => {\n                setDate(date);\n                event?.preventDefault();\n              }}\n              preventOpenOnFocus={true}\n              minDate={new Date()}\n            />\n          </DateInputContainer>\n        </label>\n        <label>\n          <InputTitle>¿Comida o cena?</InputTitle>\n          <RadioInput\n            type=\"radio\"\n            id=\"lunch\"\n            name=\"food_service\"\n            value=\"lunch\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"lunch\">Comida</label>\n          <RadioInput\n            type=\"radio\"\n            id=\"dinner\"\n            name=\"food_service\"\n            value=\"dinner\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"dinner\">Cena</label>\n        </label>\n        <SubmitButton\n          label=\"Buscar\"\n          onSubmit={onFormSubmit}\n          disabled={!criteriaToSearchIsCompleted}\n        />\n      </Container>\n    </div>\n  );\n};\n\nexport default SearchScreen;\n","import { FoodOffer } from \"../types/FoodOffer\";\n\nconst LOCAL_STORAGE_KEY = \"yotecocino-myFoods\";\n\nexport default class MyCreatedFoodsRepository {\n  save(food: FoodOffer): FoodOffer {\n    const allFoods = this.findAll();\n    allFoods.push(food);\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(allFoods));\n    return food;\n  }\n\n  find(id: String): FoodOffer | undefined {\n    const allFoods = this.findAll();\n    return allFoods.find(food => food.id === id);\n  }\n\n  findAll(): FoodOffer[] {\n    return JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) || \"[]\");\n  }\n\n  delete(foodOffer: FoodOffer | string): void {\n    const allFoods = this.findAll();\n    const lessFood = allFoods.filter(item => {\n      const food = typeof foodOffer === \"string\" ? foodOffer : foodOffer.id;\n      return item.id !== food;\n    });\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(lessFood));\n  }\n}\n","import { FoodOffer } from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport Geohash from \"latlon-geohash\";\n\nexport default class SaveFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(food: FoodOffer): Promise<FoodOffer | undefined> {\n    const geohash = Geohash.encode(\n      food.coordinates.latitude,\n      food.coordinates.longitude,\n      6\n    );\n\n    try {\n      const response = await axios.post(\n        \"https://europe-west1-yotecocino-d6292.cloudfunctions.net/createOffer\",\n        {\n          contact: food.contact,\n          day: dayjs(food.date).format(\"YYYY-MM-DD\"),\n          foodname: food.food,\n          geohash: geohash,\n          latitude: food.coordinates.latitude,\n          longitude: food.coordinates.longitude,\n          service: food.service\n        }\n      );\n\n      if (response.status !== 201 || response.data === undefined) {\n        return undefined;\n      }\n\n      const foodWithId = {\n        id: response.data.id,\n        ...food\n      };\n      this.myCreatedFoodsRepository.save(foodWithId);\n      return foodWithId;\n    } catch (_) {\n      return undefined;\n    }\n  }\n}\n","import React from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\ntype SecondaryButtonProps = {\n  label: string;\n  onClick: () => void;\n  classes: any;\n};\n\nconst noTransformText: React.CSSProperties = {\n  textTransform: \"none\"\n};\n\nconst styles = {\n  activeButton: {\n    ...noTransformText,\n    background: \"#0000\",\n    padding: \"10px\",\n    marginTop: \"16px\",\n    borderRadius: \"48px\",\n    border: \"none\",\n    width: \"45%\",\n    fontSize: \"0.9rem\",\n    fontWeight: 700,\n    color: \"#E27861\",\n    alignSelf: \"flex-end\",\n    fontFamily: \"Montserrat, sans-serif\",\n    \"&:hover\": {\n      background: \"##E27861\"\n    }\n  },\n  progressStyle: {\n    color: \"#FFF\"\n  }\n};\n\nconst SecondaryButton: React.FC<SecondaryButtonProps> = props => {\n  const { classes, onClick, label } = props;\n\n  return (\n    <Button className={classes.activeButton} onClick={onClick}>\n      {label}\n    </Button>\n  );\n};\n\nexport default withStyles(styles)(SecondaryButton);\n","import React, { useState } from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\nimport LocationInput from \"../ui/LocationInput\";\nimport { Coordinates } from \"../../foundation/types/Coordinates\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {\n  CheckboxContainer,\n  CheckboxInput,\n  Container,\n  DateInput,\n  FieldErrorDescription,\n  InputTitle,\n  RadioInput,\n  TextInput,\n  Title,\n  HorizontalButtons\n} from \"../ui/StyledForm\";\nimport { FoodOffer } from \"../../foundation/types/FoodOffer\";\nimport SaveFood from \"../../foundation/food/SaveFood\";\nimport { useHistory } from \"react-router-dom\";\nimport { FooterLink } from \"feature/ui/StyledFooter\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport SecondaryButton from \"../ui/SecondaryButton\";\nimport { Snackbar } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst InputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst FoodOfferScreen: React.FC = () => {\n  const history = useHistory();\n  const saveFood = new SaveFood();\n  const [contact, setContact] = useState<string | null>(null);\n  const [location, setLocation] = useState<Coordinates | null>(null);\n  const [description, setDescripiton] = useState<string | null>(null);\n  const [date, setDate] = useState<Date | null>(null);\n  const [service, setService] = useState<Service | null>(null);\n  const [acceptPrivacyPolicy, setAcceptPrivacyPolicy] = useState<boolean>(\n    false\n  );\n  const [violations, setViolations] = useState<any>({});\n  const [showError, setShowError] = React.useState(false);\n  const [saving, setSaving] = useState<boolean>(false);\n\n  const validateForm = () => {\n    let violations: any = {};\n    if (!location) {\n      violations[\"location\"] =\n        \"Necesitamos que nos digas dónde se recogerá la comida\";\n    }\n    if (!date) {\n      violations[\"date\"] =\n        \"Necesitamos que nos digas cuándo se recogerá la comida\";\n    }\n    if (!contact) {\n      violations[\"contact\"] =\n        \"Necesitamos que nos digas cómo podemos contactar contigo\";\n    }\n    if (!service) {\n      violations[\"service\"] =\n        \"Necesitamos que nos digas si ofreces comida o cena\";\n    }\n    if (!service) {\n      violations[\"description\"] =\n        \"Necesitamos que nos digas que podrías cocinar. Si no sabes que hacer, pon 'cositas ricas'\";\n    }\n    if (!acceptPrivacyPolicy) {\n      violations[\"privacyPolicy\"] =\n        \"Necesitamos que aceptes la política de privacidad\";\n    }\n    return violations;\n  };\n\n  const onFormSubmit = (event: any) => {\n    event.preventDefault();\n    const violations = validateForm();\n    if (Object.keys(violations).length !== 0) {\n      setViolations(violations);\n    } else {\n      setSaving(true);\n      const foodOffer: FoodOffer = {\n        coordinates: location as Coordinates,\n        service: service as Service,\n        contact: contact as string,\n        date: dayjs(date || Date()).format(\"YYYY-MM-DD\"),\n        food: description as string\n      };\n\n      saveFood.execute(foodOffer).then(savedFood => {\n        setSaving(false);\n        if (savedFood === undefined) {\n          setShowError(true);\n        } else {\n          history.push(`/food/${savedFood!!.id}`);\n        }\n      });\n    }\n  };\n\n  const onServiceChange = (service: string) => {\n    switch (service) {\n      case \"lunch\":\n        setService(Service.lunch);\n        break;\n      case \"dinner\":\n        setService(Service.dinner);\n        break;\n      default:\n        throw new Error(`Invalid service: ${service}`);\n    }\n  };\n\n  const containsValidData = Object.keys(validateForm()).length === 0;\n\n  const dateError = violations.date ? (\n    <FieldErrorDescription>{violations.date}</FieldErrorDescription>\n  ) : null;\n  const serviceError = violations.service ? (\n    <FieldErrorDescription>{violations.service}</FieldErrorDescription>\n  ) : null;\n  const contactError = violations.contact ? (\n    <FieldErrorDescription>{violations.contact}</FieldErrorDescription>\n  ) : null;\n  const descriptionError = violations.description ? (\n    <FieldErrorDescription>{violations.description}</FieldErrorDescription>\n  ) : null;\n  const privacyPolicyError = violations.description ? (\n    <FieldErrorDescription>{violations.privacyPolicy}</FieldErrorDescription>\n  ) : null;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={onFormSubmit}>\n        <Title>\n          Completa los siguientes campos para ofrecer una comida preparada\n        </Title>\n        <LocationInput\n          label=\"¿Dónde será la recogida?\"\n          setLocation={setLocation}\n          showMap={false}\n          errorMessage={violations.location}\n        />\n        <label>\n          <InputTitle>¿Qué día será la recogida?</InputTitle>\n          {dateError}\n          <DateInput\n            placeholderText=\"Selecciona el día\"\n            selected={date}\n            onChange={(date, event) => {\n              setDate(date);\n              event?.preventDefault();\n            }}\n            minDate={new Date()}\n          />\n        </label>\n        <label>\n          <InputTitle>¿Comida o cena?</InputTitle>\n          {serviceError}\n          <RadioInput\n            type=\"radio\"\n            id=\"lunch\"\n            name=\"food_service\"\n            value=\"lunch\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"lunch\">Comida</label>\n          <RadioInput\n            type=\"radio\"\n            id=\"dinner\"\n            name=\"food_service\"\n            value=\"dinner\"\n            onChange={event => onServiceChange(event.target.value)}\n          />\n          <label htmlFor=\"dinner\">Cena</label>\n        </label>\n        <label>\n          <InputTitle>¿Qué podrías cocinar?</InputTitle>\n          {descriptionError}\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"Comida vegana, guisos riquisimos, ...\"\n              value={description ?? \"\"}\n              onChange={event => setDescripiton(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <label>\n          <InputTitle>Forma de contacto</InputTitle>\n          {contactError}\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"Twitter\"\n              value={contact ?? \"\"}\n              onChange={event => setContact(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <CheckboxContainer>\n          {privacyPolicyError}\n          <CheckboxInput\n            type=\"checkbox\"\n            checked={acceptPrivacyPolicy}\n            onChange={event => setAcceptPrivacyPolicy(event.target.checked)}\n          />\n          <label onClick={() => setAcceptPrivacyPolicy(!acceptPrivacyPolicy)}>\n            Acepto la{\" \"}\n            <FooterLink href=\"privacypolicy.html\">\n              política de privacidad\n            </FooterLink>\n          </label>\n        </CheckboxContainer>\n        <HorizontalButtons>\n          <SecondaryButton\n            label=\"Ver comida registrada\"\n            onClick={() => history.push(\"/myFood\")}\n          />\n          <SubmitButton\n            label=\"Registrar\"\n            onSubmit={onFormSubmit}\n            loading={saving}\n            disabled={!containsValidData}\n          />\n        </HorizontalButtons>\n\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          }}\n          open={showError}\n          autoHideDuration={4000}\n        >\n          <Alert onClose={() => setShowError(false)} severity=\"error\">\n            ¡Oh no! Algo ha ido mal. Vuelve a intentarlo en un rato.\n          </Alert>\n        </Snackbar>\n      </Container>\n    </div>\n  );\n};\n\nexport default FoodOfferScreen;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\n\ninterface ContainerProps {\n  readonly isSelected: boolean;\n}\n\nconst Container = styled.div<ContainerProps>`\n  display: flex;\n  flex-direction: column;\n  background: ${props => (props.isSelected ? \"#D3EAFF\" : \"#f6f6f6\")};\n  margin: 16px;\n  padding: 16px;\n  box-shadow: 0px 8px 0px\n    ${props => (props.isSelected ? \"#92CAFF\" : \"rgba(0, 0, 0, 0.1)\")};\n  border-radius: 8px;\n  border: 2px solid ${props => (props.isSelected ? \"#D3EAFF\" : \"#f6f6f6\")};\n  cursor: pointer;\n  :hover {\n    border: 2px solid #2997fc;\n  }\n`;\n\nconst Food = styled.p`\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin: 0;\n`;\n\nconst Contact = styled.p`\n  margin: 0;\n  margin-top: 8px;\n  font-weight: 600;\n  color: #2997fc;\n`;\n\ninterface Props {\n  offer: FoodOffer;\n  isSelected: boolean;\n  onOfferSelected: (offer: FoodOffer) => void;\n  onOfferHovered: (offer?: FoodOffer) => void;\n}\n\nconst ResultRow: React.FC<Props> = ({\n  offer,\n  isSelected,\n  onOfferSelected,\n  onOfferHovered\n}) => {\n  return (\n    <Container\n      onClick={() => onOfferSelected(offer)}\n      onMouseEnter={() => onOfferHovered(offer)}\n      onMouseLeave={() => onOfferHovered(undefined)}\n      isSelected={isSelected}\n    >\n      <Food>{offer.food}</Food>\n      <Contact>{offer.contact}</Contact>\n    </Container>\n  );\n};\n\nexport default ResultRow;\n","import React, { Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport ResultRow from \"./ResultRow\";\nimport { CircularProgress, withStyles } from \"@material-ui/core\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\ninterface Props {\n  offers: FoodOffer[];\n  isLoading: boolean;\n  selectedOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n  onOfferHovered: (offer?: FoodOffer) => void;\n  classes: any;\n}\n\nconst NotFoundIllustration = styled.img`\n  position: relative;\n  justify-self: flex-end;\n  max-height: 450px;\n  height: 100%;\n  @media (max-width: 960px) {\n    height: 0;\n  }\n`;\n\nconst NoFoundText = styled.p`\n  font-size: 1.2rem;\n  margin: 0;\n  margin-bottom: 16px;\n  text-align: center;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  height: 100%;\n  align-content: center;\n  align-items: center;\n`;\n\nconst styles = {\n  progressStyle: {\n    color: \"#E27861\"\n  }\n};\n\nconst ResultList: React.FC<Props> = ({\n  offers,\n  isLoading,\n  selectedOffer,\n  onOfferSelected,\n  onOfferHovered,\n  classes\n}) => {\n  const Loading = () => {\n    return (\n      <LoadingContainer>\n        <CircularProgress className={classes.progressStyle} />\n      </LoadingContainer>\n    );\n  };\n\n  const EmptyCase = () => {\n    return (\n      <Fragment>\n        <NotFoundIllustration src={\"img/il_empty.svg\"} />\n        <NoFoundText>\n          Ooh :(, parece que no hay nadie cocinando en tu zona.\n        </NoFoundText>\n      </Fragment>\n    );\n  };\n\n  let results;\n  if (isLoading) {\n    results = <Loading />;\n  } else if (offers.length === 0) {\n    results = <EmptyCase />;\n  } else {\n    results = offers.map(offer => (\n      <ResultRow\n        key={offer.food}\n        offer={offer}\n        onOfferSelected={onOfferSelected}\n        onOfferHovered={onOfferHovered}\n        isSelected={offer.food === selectedOffer?.food}\n      />\n    ));\n  }\n\n  return <Container>{results}</Container>;\n};\n\nexport default withStyles(styles)(ResultList);\n","import React, { Fragment, memo } from \"react\";\nimport { Marker } from \"react-map-gl\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\n\ninterface Props {\n  offers: FoodOffer[];\n  selectedOffer?: FoodOffer;\n  hoveredOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n}\n\ninterface OfferMarkerProps {\n  offer: FoodOffer;\n}\n\nconst ResultMapMarkers: React.FC<Props> = ({\n  offers,\n  selectedOffer,\n  hoveredOffer,\n  onOfferSelected\n}) => {\n  const markerIcon = require(\"../../../img/ic_marker.svg\") as string;\n  const selectedMarkerIcon = require(\"../../../img/ic_marker_selected.svg\") as string;\n  const hoveredMarkerIcon = require(\"../../../img/ic_marker_hovered.svg\") as string;\n\n  const OfferMarker = ({ offer }: OfferMarkerProps) => {\n    let icon;\n\n    if (\n      selectedOffer?.food === offer.food &&\n      selectedOffer?.coordinates.latitude === offer.coordinates.latitude &&\n      selectedOffer?.coordinates.longitude === offer.coordinates.longitude\n    ) {\n      icon = selectedMarkerIcon;\n    } else if (\n      hoveredOffer?.food === offer.food &&\n      hoveredOffer?.coordinates.latitude === offer.coordinates.latitude &&\n      hoveredOffer?.coordinates.longitude === offer.coordinates.longitude\n    ) {\n      icon = hoveredMarkerIcon;\n    } else {\n      icon = markerIcon;\n    }\n\n    return (\n      <Marker\n        key={offer.food}\n        longitude={offer.coordinates.longitude}\n        latitude={offer.coordinates.latitude}\n        offsetTop={-32}\n        offsetLeft={-32}\n      >\n        <img src={icon} onClick={() => onOfferSelected(offer)} alt=\"\"></img>\n      </Marker>\n    );\n  };\n\n  const Markers = () => {\n    const markers = offers.map(offer => <OfferMarker offer={offer} />);\n    return <Fragment>{markers}</Fragment>;\n  };\n\n  return <Markers />;\n};\n\nexport default memo(ResultMapMarkers);\n","import React, { useState } from \"react\";\nimport config from \"../../../foundation/Config\";\nimport ReactMapGL, { WebMercatorViewport } from \"react-map-gl\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport { useBoundingBox } from \"../hooks/UseBoundingBox\";\nimport { Coordinates } from \"foundation/types/Coordinates\";\nimport ResultMapMarkers from \"./ResultMapMarkers\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: scroll;\n  min-height: 450px;\n\n  @media (max-width: 960px) {\n    min-height: 250px;\n  }\n`;\n\nconst Map = styled(ReactMapGL)`\n  border-radius: 32px 32px 0px 0px;\n`;\n\ninterface Props {\n  searchedArea: Coordinates;\n  offers: FoodOffer[];\n  selectedOffer?: FoodOffer;\n  hoveredOffer?: FoodOffer;\n  onOfferSelected: (offer: FoodOffer) => void;\n}\n\nconst ResultMap: React.FC<Props> = ({\n  searchedArea,\n  offers,\n  selectedOffer,\n  hoveredOffer,\n  onOfferSelected\n}) => {\n  const auth = {\n    mapboxApiAccessToken: config.mapsToken\n  };\n\n  const mapConfig = {\n    mapStyle: config.mapLayout,\n    zoom: 15\n  };\n\n  let noOffersFound = offers.length === 0;\n  const allCoordinates = noOffersFound\n    ? [searchedArea]\n    : offers.map(offer => offer.coordinates);\n\n  const boundingBox = useBoundingBox(allCoordinates);\n\n  const [viewport, setViewport] = useState<Coordinates | undefined>(undefined);\n\n  let locationViewPort =\n    allCoordinates.length === 1\n      ? {\n          ...allCoordinates[0],\n          zoom: 15\n        }\n      : new WebMercatorViewport({ width: 800, height: 600 }).fitBounds(\n          [\n            [\n              boundingBox.swCoordinate.longitude,\n              boundingBox.swCoordinate.latitude\n            ],\n            [\n              boundingBox.neCoordinate.longitude,\n              boundingBox.neCoordinate.latitude\n            ]\n          ],\n          { padding: 150 }\n        );\n  const mapViewport = viewport !== undefined ? viewport : locationViewPort;\n\n  let resultMapMarkers = noOffersFound ? null : (\n    <ResultMapMarkers\n      offers={offers}\n      selectedOffer={selectedOffer}\n      hoveredOffer={hoveredOffer}\n      onOfferSelected={onOfferSelected}\n    />\n  );\n  return (\n    <Container>\n      <Map\n        {...auth}\n        {...mapConfig}\n        {...mapViewport}\n        width=\"100%\"\n        height=\"100%\"\n        onViewportChange={props => setViewport(props)}\n      >\n        {resultMapMarkers}\n      </Map>\n    </Container>\n  );\n};\n\nexport default ResultMap;\n","import { Coordinates } from \"foundation/types/Coordinates\";\n\nexport interface BoundingBox {\n  swCoordinate: Coordinates;\n  neCoordinate: Coordinates;\n}\n\nexport function useBoundingBox(coordinates: Coordinates[]): BoundingBox {\n  const allLatitudes = coordinates.map(c => c.latitude);\n  const allLongitudes = coordinates.map(c => c.longitude);\n  const minLatitude = allLatitudes.reduce(\n    (a: number, b: number) => (a < b ? a : b),\n    90\n  );\n  const maxLatitude = allLatitudes.reduce(\n    (a: number, b: number) => (a > b ? a : b),\n    -90\n  );\n  const minLongitude = allLongitudes.reduce(\n    (a: number, b: number) => (a < b ? a : b),\n    180\n  );\n  const maxLongitude = allLongitudes.reduce(\n    (a: number, b: number) => (a > b ? a : b),\n    -180\n  );\n  return {\n    swCoordinate: { latitude: minLatitude, longitude: minLongitude },\n    neCoordinate: { latitude: maxLatitude, longitude: maxLongitude }\n  };\n}\n","import { FoodOffer } from \"../types/FoodOffer\";\nimport { FoodSearchCriteria } from \"../types/FoodSearchCriteria\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport Geohash from \"latlon-geohash\";\n\nexport default class FindFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(criteria: FoodSearchCriteria): Promise<FoodOffer[]> {\n    const day = dayjs(criteria.day).format(\"YYYY-MM-DD\");\n    const geohash = Geohash.encode(\n      criteria.nearTo.latitude,\n      criteria.nearTo.longitude,\n      6\n    );\n    const neighborGeohashes = Geohash.neighbours(geohash);\n    const allGeohashes = [\n      neighborGeohashes.nw,\n      neighborGeohashes.n,\n      neighborGeohashes.ne,\n      neighborGeohashes.e,\n      neighborGeohashes.se,\n      neighborGeohashes.s,\n      neighborGeohashes.sw,\n      neighborGeohashes.w,\n      geohash\n    ];\n    const service = criteria.service.toString();\n\n    try {\n      const response = await axios.get(\n        `https://europe-west1-yotecocino-d6292.cloudfunctions.net/offer?geohashes=${allGeohashes}&day=${day}&service=${service}`\n      );\n\n      return response?.data ?? [];\n    } catch (_) {\n      return [];\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Coordinates } from \"foundation/types/Coordinates\";\nimport ResultList from \"./components/ResultList\";\nimport ResultMap from \"./components/ResultMap\";\nimport { Service } from \"../../foundation/types/Service\";\nimport { FoodOffer } from \"foundation/types/FoodOffer\";\nimport FindFood from \"../../foundation/food/FindFood\";\nimport Grid from \"@material-ui/core/Grid\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 80%;\n  height: 80%;\n  margin: 32px 0;\n  background: #fff;\n  border-radius: 32px;\n  box-shadow: 0px 8px 0px rgba(0, 0, 0, 0.1);\n  padding: 32px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\ninterface Props {\n  coordinates: Coordinates;\n  day: Date;\n  service: Service;\n}\n\nconst SearchResultsScreen: React.FC<Props> = ({\n  coordinates,\n  day,\n  service\n}) => {\n  const findFood = new FindFood();\n  const [offers, setOffers] = useState<FoodOffer[]>([]);\n  const [needToLoad, setNeedToLoad] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (needToLoad) {\n      findFood\n        .execute({\n          day,\n          service,\n          nearTo: coordinates\n        })\n        .then(found => {\n          setOffers(found);\n          setNeedToLoad(false);\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [selectedOffer, setSelectedOffer] = useState<FoodOffer | undefined>(\n    undefined\n  );\n  const [hoveredOffer, setHoveredOffer] = useState<FoodOffer | undefined>(\n    undefined\n  );\n\n  return (\n    <div>\n      <HomeButton />\n      <Container>\n        <Grid container={true} spacing={3}>\n          <Grid item xs={12} md={6} lg={4}>\n            <ResultList\n              offers={offers}\n              isLoading={needToLoad}\n              onOfferSelected={offer => setSelectedOffer(offer)}\n              onOfferHovered={offer => setHoveredOffer(offer)}\n              selectedOffer={selectedOffer}\n            />\n          </Grid>\n          <Grid item xs={12} md={6} lg={8}>\n            <ResultMap\n              searchedArea={coordinates}\n              offers={offers}\n              selectedOffer={selectedOffer}\n              hoveredOffer={hoveredOffer}\n              onOfferSelected={offer => setSelectedOffer(offer)}\n            />\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default SearchResultsScreen;\n","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport SecondaryButton from \"feature/ui/SecondaryButton\";\nimport SubmitButton from \"feature/ui/SubmitButton\";\nimport { HorizontalButtons, Container } from \"feature/ui/StyledForm\";\nimport HomeButton from \"feature/ui/HomeButton\";\n\nconst Congratulations = styled.p`\n  text-align: center;\n  font-weight: bold;\n  font-size: 18px;\n  margin: 0;\n`;\n\nconst Description = styled.p`\n  text-align: center;\n  font-size: 18px;\n  line-height: 22px;\n  margin: 8px;\n`;\n\nconst Footer = styled.div`\n  margin-top: 16px;\n`;\n\nconst Brand = styled.span`\n  font-size: 24px;\n  font-family: \"Pacifico\", cursive;\n`;\n\nconst Identifier = styled.p`\n  font-size: 2rem;\n  font-family: \"Pacifico\", cursive;\n  text-align: center;\n  color: #2997fc;\n  margin: 0;\n\n  @media (max-width: 768px) {\n    font-size: 1.5rem;\n  }\n`;\n\ntype CreatedFoodOfferScreenProps = {\n  match?: any;\n};\n\nconst CreatedFoodOfferScreen: React.FC<CreatedFoodOfferScreenProps> = ({\n  match\n}) => {\n  const history = useHistory();\n\n  return (\n    <div>\n      <HomeButton />\n      <Container>\n        <Congratulations>¡Enhorabuena!</Congratulations>\n        <Description>\n          Tu ayuda ha quedado registrada. Cuando acuerdes a quién se la darás,\n          tan solo tienes que visitar <Brand>#yotecocino</Brand> para marcarla\n          como asignada.\n        </Description>\n        <br />\n        <Description>El identificador de tu comida es:</Description>\n        <Identifier>{match.params.foodId}</Identifier>\n        <Footer>\n          <HorizontalButtons>\n            <SecondaryButton\n              label=\"Ver comida registrada\"\n              onClick={() => history.push(\"/myFood\")}\n            />\n            <SubmitButton\n              label=\"Registrar otra\"\n              onClick={() => history.push(\"/cook\")}\n              loading={false}\n              disabled={false}\n            />\n          </HorizontalButtons>\n        </Footer>\n      </Container>\n    </div>\n  );\n};\n\nexport default CreatedFoodOfferScreen;\n","import {FoodOffer} from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\n\nexport default class FindOfferedFoods {\n    private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n    execute(): Promise<FoodOffer[]> {\n        return Promise.resolve(\n            this.myCreatedFoodsRepository.findAll()\n        );\n    }\n}","import { FoodOffer } from \"../types/FoodOffer\";\nimport MyCreatedFoodsRepository from \"./MyCreatedFoodsRepository\";\nimport axios from \"axios\";\n\nexport default class FindFood {\n  private myCreatedFoodsRepository = new MyCreatedFoodsRepository();\n\n  async execute(food: FoodOffer | string): Promise<boolean> {\n    const effectiveFood =\n      typeof food === \"string\"\n        ? this.myCreatedFoodsRepository.find(food)\n        : food;\n\n    if (effectiveFood) {\n      try {\n        const response = await axios.delete(\n          `https://europe-west1-yotecocino-d6292.cloudfunctions.net/deleteOffer?id=${effectiveFood?.id}`\n        );\n\n        if (response.status === 200) {\n          this.myCreatedFoodsRepository.delete(effectiveFood);\n        }\n\n        return response.status === 200;\n      } catch (_) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n  Container,\n  MyCreatedFoodItem,\n  InputTitle,\n  OptionsContainer,\n  Text,\n  TextInput,\n  Title,\n  Warning,\n  HorizontalButtons\n} from \"../ui/StyledForm\";\nimport FindOfferedFoods from \"../../foundation/food/FindOfferedFoods\";\nimport { FoodOffer } from \"../../foundation/types/FoodOffer\";\nimport RemoveFood from \"../../foundation/food/RemoveFood\";\nimport { Snackbar } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport SubmitButton from \"../ui/SubmitButton\";\nimport SecondaryButton from \"feature/ui/SecondaryButton\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport HomeButton from \"feature/ui/HomeButton\";\nimport { Service } from \"foundation/types/Service\";\n\nconst InputContainer = styled.div`\n  width: 100%;\n  display: flex;\n`;\n\nconst ManageAllMyFoods: React.FC = () => {\n  const findAllMyFood = new FindOfferedFoods();\n  const removeFood = new RemoveFood();\n\n  const history = useHistory();\n  const [saving, setSaving] = useState<boolean>(false);\n  const [offeredFood, setOfferedFood] = useState<FoodOffer[]>([]);\n  const [foodId, setFoodId] = useState<string | null>(null);\n  const [needToLoadMyFoods, setNeedToLoadMyFoods] = useState<boolean>(true);\n  const [showError, setShowError] = useState(false);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (needToLoadMyFoods) {\n      findAllMyFood.execute().then(setOfferedFood);\n      setNeedToLoadMyFoods(false);\n    }\n  }, [needToLoadMyFoods, findAllMyFood]);\n\n  const deleteFood = (event: any) => {\n    event.preventDefault();\n    setSaving(true);\n    removeFood\n      .execute(foodId || \"\")\n      .then(success => {\n        setSaving(false);\n        if (!success) {\n          setShowError(true);\n        } else {\n          setFoodId(null);\n          setNeedToLoadMyFoods(true);\n        }\n      })\n      .catch(() => {\n        setSaving(false);\n        setFoodId(null);\n        setShowError(true);\n      });\n  };\n\n  const createdFoodList = (\n    <div>\n      <Text>\n        Puedes elegir uno de los que ya has creado en este dispositivo:\n      </Text>\n      <OptionsContainer>\n        {offeredFood.map(food => {\n          const onClick = () => {\n            setFoodId(food.id || \"\");\n          };\n          const service = food.service === Service.lunch ? \"Comida\" : \"Cena\";\n          return (\n            <MyCreatedFoodItem onClick={onClick}>\n              <b>{food.food}</b> • <i>{food.date}</i> • {service}\n            </MyCreatedFoodItem>\n          );\n        })}\n      </OptionsContainer>\n    </div>\n  );\n\n  const list = offeredFood.length > 0 ? createdFoodList : null;\n  const nothingToBeDeleted = !foodId;\n\n  return (\n    <div>\n      <HomeButton />\n      <Container onSubmit={deleteFood}>\n        <Title>Introduce el identificador de tu comida registrada</Title>\n        {list}\n        <label>\n          <InputTitle>O introducir el identificador de tu comida:</InputTitle>\n          <InputContainer>\n            <TextInput\n              type=\"text\"\n              placeholder=\"e.g. mbqrK6xagwsjbzysVulv\"\n              value={foodId ?? \"\"}\n              onChange={event => setFoodId(event.target.value)}\n            />\n          </InputContainer>\n        </label>\n        <Warning>\n          Recuerda que este paso eliminará de forma permanente la comida\n          registrada. Para hacer modificaciones, tendrás que registrar una\n          nueva.\n        </Warning>\n        <br />\n        <HorizontalButtons>\n          <SecondaryButton\n            label=\"Registrar comida\"\n            onClick={() => history.push(\"/cook\")}\n          />\n          <SubmitButton\n            label=\"Eliminar\"\n            loading={saving}\n            disabled={nothingToBeDeleted}\n            onSubmit={deleteFood}\n          />\n        </HorizontalButtons>\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          }}\n          open={showError}\n          autoHideDuration={4000}\n        >\n          <Alert onClose={() => setShowError(false)} severity=\"error\">\n            ¡Oh no! Algo ha ido mal. Vuelve a intentarlo en un rato.\n          </Alert>\n        </Snackbar>\n      </Container>\n    </div>\n  );\n};\n\nexport default ManageAllMyFoods;\n","import React from \"react\";\nimport WelcomeScreen from \"feature/welcome/WelcomeScreen\";\nimport SearchScreen from \"feature/search/SearchScreen\";\nimport FoodOfferScreen from \"feature/food/FoodOfferScreen\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport SearchResultsScreen from \"feature/search/SearchResultsScreen\";\nimport { useQuery } from \"foundation/router/UseQuery\";\nimport \"./index.scss\";\nimport CreatedFoodOfferScreen from \"./feature/food/CreatedFoodOfferScreen\";\nimport ManageAllMyFoods from \"./feature/food/ManageAllMyFoods\";\nimport dayjs from \"dayjs\";\nimport { Service } from \"foundation/types/Service\";\n\nconst App: React.FC = () => {\n  const parseLocation = (location: string) => {\n    const parts = location.split(\",\");\n    return {\n      latitude: Number(parts[0]),\n      longitude: Number(parts[1])\n    };\n  };\n\n  const parseService = (service: string) => {\n    switch (service.toLowerCase()) {\n      case \"lunch\":\n        return Service.lunch;\n      case \"dinner\":\n        return Service.dinner;\n      default:\n        return Service.lunch;\n    }\n  };\n\n  const Routes = () => {\n    const query = useQuery();\n\n    return (\n      <Switch>\n        <Route path=\"/search/results\">\n          <SearchResultsScreen\n            coordinates={parseLocation(query.get(\"location\") ?? \"0,0\")}\n            day={dayjs(query.get(\"day\") ?? \"\").toDate()}\n            service={parseService(query.get(\"service\") ?? \"\")}\n          />\n        </Route>\n        <Route exact path=\"/search\">\n          <SearchScreen />\n        </Route>\n        <Route exact path=\"/cook\">\n          <FoodOfferScreen />\n        </Route>\n        <Route exact path=\"/myFood\">\n          <ManageAllMyFoods />\n        </Route>\n        <Route exact path=\"/food/:foodId\" component={CreatedFoodOfferScreen} />\n        <Route path=\"/\">\n          <WelcomeScreen />\n        </Route>\n      </Switch>\n    );\n  };\n\n  return (\n    <div>\n      <Router>\n        <Routes />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","/* istanbul ignore file */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* istanbul ignore file */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}